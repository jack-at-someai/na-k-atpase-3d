<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SomeAI</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <script type="module" src="https://unpkg.com/@lottiefiles/dotlottie-wc@latest/dist/dotlottie-wc.js"></script>
  <style>
    /* === Reset === */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    /* === Base Layout === */
    body {
      font-family: 'Inter', -apple-system, sans-serif;
      background: #141414;
      color: #E8E0E0;
      min-height: 100vh;
      padding: 0 24px 48px;
    }

    /* === Spider Web Background (Layer 1) === */
    #web-bg {
      position: fixed;
      inset: 0;
      z-index: -1;
      display: flex;
      align-items: center;
      justify-content: center;
      pointer-events: none;
    }
    #web-bg svg {
      width: 120vmax;
      height: 120vmax;
    }
    .web-strands {
      animation: web-breathe 8s ease-in-out infinite;
    }
    @keyframes web-breathe {
      0%, 100% { opacity: 0.5; }
      50% { opacity: 1; }
    }

    /* === Hero + Particle Canvas (Layer 2) === */
    #hero {
      position: relative;
      width: calc(100% + 48px);
      margin: 0 -24px 48px;
      height: 400px;
      overflow: hidden;
    }
    #particle-canvas {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
    }
    .hero-overlay {
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      pointer-events: none;
      z-index: 1;
    }
    .hero-overlay h1 {
      font-size: 48px;
      font-weight: 800;
      letter-spacing: -2px;
      margin-bottom: 12px;
      text-align: center;
      background: linear-gradient(135deg, #FFFFFF 0%, #C4A8A8 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .hero-overlay .subtitle {
      text-align: center;
      color: #666666;
      font-size: 15px;
      max-width: 600px;
      line-height: 1.6;
    }

    /* === Abstract === */
    .abstract {
      max-width: 800px;
      margin: 0 auto 48px;
      padding: 32px;
      background: linear-gradient(135deg, rgba(229,62,62,0.05) 0%, rgba(155,120,120,0.04) 100%);
      border: 1px solid #333333;
      border-radius: 16px;
      opacity: 0;
      transform: translateY(24px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }
    .abstract.visible { opacity: 1; transform: none; }
    .abstract h2 {
      font-size: 16px;
      font-weight: 600;
      color: #E53E3E;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      margin-bottom: 16px;
    }
    .abstract p {
      font-size: 14px;
      line-height: 1.7;
      color: #999999;
      margin-bottom: 12px;
    }
    .abstract p:last-child { margin-bottom: 0; }
    .abstract strong { color: #E8E0E0; font-weight: 600; }
    .abstract .highlight { color: #E53E3E; font-weight: 500; }

    /* === Lottie Accents (Layer 4) === */
    .lottie-accent {
      display: flex;
      justify-content: center;
      margin: -8px auto 32px;
      pointer-events: none;
      opacity: 0.15;
    }

    /* === Five Primitives (Layer 3) === */
    .primitives-section {
      max-width: 800px;
      margin: 0 auto 48px;
      padding: 0 4px;
      text-align: center;
      opacity: 0;
      transform: translateY(24px);
      transition: opacity 0.8s ease, transform 0.8s ease;
    }
    .primitives-section.visible { opacity: 1; transform: none; }
    .primitives-header h2 {
      font-size: 18px;
      font-weight: 700;
      letter-spacing: -0.5px;
      margin-bottom: 4px;
    }
    .primitives-header p {
      font-size: 13px;
      color: #666666;
      margin-bottom: 32px;
    }
    .primitives-diagram {
      margin-bottom: 32px;
    }
    .primitives-diagram svg {
      width: 100%;
      max-width: 800px;
    }
    .flow-arrow {
      animation: dash-flow 1.5s linear infinite;
    }
    @keyframes dash-flow {
      to { stroke-dashoffset: -10; }
    }
    .primitives-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 12px;
    }
    .primitive-card {
      background: #1A1A1A;
      border: 1px solid #333333;
      border-radius: 12px;
      padding: 20px 12px;
      text-align: center;
    }
    .primitive-icon {
      font-size: 24px;
      margin-bottom: 8px;
    }
    .primitive-card h3 {
      font-size: 11px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 8px;
    }
    .primitive-card p {
      font-size: 11px;
      line-height: 1.5;
      color: #999999;
    }

    /* === Divider === */
    .divider {
      max-width: 800px;
      margin: 0 auto 40px;
      border: none;
      border-top: 1px solid #333333;
    }

    /* === Investment Thesis Section === */
    .thesis {
      max-width: 960px;
      margin: 0 auto 48px;
      padding: 0 24px;
    }
    .thesis-header {
      text-align: center;
      margin-bottom: 32px;
    }
    .thesis-header h2 {
      font-size: 22px;
      font-weight: 700;
      letter-spacing: -0.5px;
      color: #E8E0E0;
      margin-bottom: 6px;
    }
    .thesis-header .tagline {
      font-size: 13px;
      color: #666666;
    }
    .thesis-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-bottom: 24px;
    }
    .thesis-card {
      background: #1A1A1A;
      border: 1px solid #333333;
      border-radius: 14px;
      padding: 24px;
      opacity: 0;
      transform: translateY(24px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }
    .thesis-card.visible { opacity: 1; transform: none; }
    .thesis-card h3 {
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 10px;
    }
    .thesis-card h3.blue { color: #F56565; }
    .thesis-card h3.green { color: #68D391; }
    .thesis-card h3.amber { color: #F59E0B; }
    .thesis-card h3.purple { color: #C4A8A8; }
    .thesis-card p {
      font-size: 13px;
      line-height: 1.65;
      color: #999999;
    }
    .thesis-card strong { color: #E8E0E0; }
    .thesis-card .val-highlight { font-weight: 500; }
    .thesis-card .val-highlight.blue { color: #F56565; }
    .thesis-card .val-highlight.green { color: #68D391; }
    .thesis-card .val-highlight.amber { color: #F59E0B; }
    .thesis-card .val-highlight.purple { color: #C4A8A8; }
    .thesis-wide {
      background: linear-gradient(135deg, rgba(229,62,62,0.06) 0%, rgba(155,120,120,0.04) 50%, rgba(107,79,79,0.04) 100%);
      border: 1px solid #333333;
      border-radius: 14px;
      padding: 28px 32px;
      margin-bottom: 24px;
      opacity: 0;
      transform: translateY(24px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }
    .thesis-wide.visible { opacity: 1; transform: none; }
    .thesis-wide h3 {
      font-size: 14px;
      color: #E53E3E;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 14px;
    }
    .thesis-wide p {
      font-size: 13px;
      line-height: 1.7;
      color: #999999;
      margin-bottom: 10px;
    }
    .thesis-wide p:last-child { margin-bottom: 0; }
    .thesis-wide strong { color: #E8E0E0; }
    .thesis-wide .hl { color: #E53E3E; font-weight: 500; }
    .thesis-wide .gl { color: #68D391; font-weight: 500; }
    .thesis-wide .al { color: #F59E0B; font-weight: 500; }

    /* === Tables === */
    .val-table {
      width: 100%;
      border-collapse: collapse;
      margin: 16px 0 8px;
      font-size: 12px;
    }
    .val-table th {
      text-align: left;
      color: #666666;
      font-weight: 500;
      padding: 6px 10px;
      border-bottom: 1px solid #333333;
      text-transform: uppercase;
      letter-spacing: 0.3px;
      font-size: 10px;
    }
    .val-table td {
      padding: 8px 10px;
      border-bottom: 1px solid rgba(51,51,51,0.5);
      color: #999999;
    }
    .val-table td:nth-child(2), .val-table td:nth-child(3) { color: #E8E0E0; font-weight: 600; }
    .val-table tr:last-child td { border-bottom: none; }

    /* === Live Badge === */
    .live-badge {
      display: inline-block;
      font-size: 10px;
      padding: 3px 10px;
      border-radius: 20px;
      background: rgba(229,62,62,0.12);
      color: #E53E3E;
      font-weight: 600;
      letter-spacing: 0.3px;
      text-transform: uppercase;
      margin-left: 8px;
      animation: badge-pulse 2s ease-in-out infinite;
    }
    @keyframes badge-pulse {
      0%, 100% { box-shadow: 0 0 0 0 rgba(229,62,62,0.2); }
      50% { box-shadow: 0 0 12px 2px rgba(229,62,62,0.15); }
    }

    /* === Section Labels === */
    .section-group {
      max-width: 1200px;
      margin: 0 auto 48px;
    }
    .section-label {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 20px;
      padding: 0 4px;
    }
    .section-label h2 {
      font-size: 16px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.8px;
    }
    .section-label .count {
      font-size: 11px;
      color: #666666;
      font-weight: 500;
    }
    .section-label::after {
      content: '';
      flex: 1;
      height: 1px;
      background: #333333;
    }
    .section-label.kernel h2 { color: #E53E3E; }
    .section-label.domain h2 { color: #68D391; }
    .section-label.reference h2 { color: #C4A8A8; }
    .section-label.research h2 { color: #F59E0B; }
    .section-label.instrument h2 { color: #666666; }

    /* === Tags === */
    .tag {
      display: inline-block;
      font-size: 10px;
      padding: 2px 8px;
      border-radius: 4px;
      background: rgba(229,62,62,0.12);
      color: #F56565;
      margin-top: 4px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-weight: 500;
    }
    .tag-kernel { background: rgba(229,62,62,0.12); color: #F56565; }
    .tag-domain { background: rgba(104,211,145,0.12); color: #68D391; }
    .tag-reference { background: rgba(196,168,168,0.12); color: #C4A8A8; }
    .tag-research { background: rgba(245,158,11,0.12); color: #F59E0B; }
    .tag-instrument { background: rgba(102,102,102,0.12); color: #999999; }

    /* === Cards + Grid === */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
      gap: 16px;
      max-width: 1200px;
      margin: 0 auto;
    }
    .card {
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 16px 20px;
      background: #1A1A1A;
      border: 1px solid #333333;
      border-radius: 12px;
      text-decoration: none;
      color: #E8E0E0;
      position: relative;
      isolation: isolate;
      overflow: hidden;
      opacity: 0;
      transform: translateY(24px);
      transition: opacity 0.6s ease, transform 0.6s ease, background 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
    }
    .card.visible {
      opacity: 1;
      transform: none;
    }
    .card:hover {
      background: #222222;
      border-color: #444444;
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(0,0,0,0.4);
    }

    /* Hover Shimmer (Layer 5) */
    .card::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(105deg, transparent 40%, rgba(229,62,62,0.06) 50%, transparent 60%);
      transform: translateX(-100%);
      transition: transform 0.6s ease;
      z-index: -1;
      pointer-events: none;
    }
    .card:hover::before {
      transform: translateX(100%);
    }

    .icon { font-size: 28px; flex-shrink: 0; }
    .card-text h2 { font-size: 15px; font-weight: 600; }
    .card-text p { font-size: 12px; color: #666666; margin-top: 2px; }

    /* Card category borders */
    .card-kernel { border-color: rgba(229,62,62,0.25); }
    .card-kernel:hover { border-color: #E53E3E; box-shadow: 0 8px 24px rgba(229,62,62,0.15); }
    .card-domain { border-color: rgba(104,211,145,0.25); }
    .card-domain:hover { border-color: #68D391; box-shadow: 0 8px 24px rgba(104,211,145,0.15); }
    .card-research { border-color: rgba(245,158,11,0.25); }
    .card-research:hover { border-color: #F59E0B; box-shadow: 0 8px 24px rgba(245,158,11,0.15); }

    /* === Hex Map === */
    #hex-map {
      max-width: 1200px;
      margin: 0 auto 48px;
      text-align: center;
      opacity: 0;
      transform: translateY(24px);
      transition: opacity 0.8s ease, transform 0.8s ease;
    }
    #hex-map.visible { opacity: 1; transform: none; }
    .hex-map-header { margin-bottom: 24px; }
    .hex-map-header h2 {
      font-size: 18px;
      font-weight: 700;
      color: #E53E3E;
      text-transform: uppercase;
      letter-spacing: 0.8px;
      margin-bottom: 4px;
    }
    .hex-map-header p {
      font-size: 13px;
      color: #666666;
    }
    #hex-canvas {
      display: block;
      margin: 0 auto;
      cursor: pointer;
    }
    #hex-tooltip {
      position: fixed;
      padding: 8px 16px;
      background: #1A1A1A;
      border: 1px solid #444;
      border-radius: 8px;
      color: #E8E0E0;
      font-size: 13px;
      font-weight: 500;
      font-family: 'Inter', sans-serif;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.15s;
      z-index: 100;
      white-space: nowrap;
    }
    #hex-tooltip.show { opacity: 1; }

    /* === Reduced Motion (Layer 6) === */
    @media (prefers-reduced-motion: reduce) {
      #web-bg { display: none !important; }
      #particle-canvas { display: none !important; }
      .lottie-accent { display: none !important; }
      .card, .thesis-card, .thesis-wide, .abstract, .primitives-section, .primitive-card, #hex-map {
        opacity: 1 !important;
        transform: none !important;
        transition-duration: 0s !important;
        transition-delay: 0s !important;
      }
      .card::before { display: none !important; }
      .flow-arrow { animation: none !important; }
      .web-strands { animation: none !important; }
      .live-badge { animation: none !important; }
      .hero-overlay h1 {
        -webkit-text-fill-color: #E8E0E0;
        background: none;
      }
    }

    /* === Mobile (Layer 6) === */
    @media (max-width: 700px) {
      #hero { height: auto; }
      #particle-canvas { display: none; }
      .hero-overlay {
        position: relative;
        padding: 48px 0 40px;
      }
      .hero-overlay h1 { font-size: 32px; letter-spacing: -1px; }
      .hero-overlay .subtitle { font-size: 13px; padding: 0 12px; }
      .primitives-diagram { display: none; }
      .primitives-grid { grid-template-columns: repeat(2, 1fr); }
      .thesis-grid { grid-template-columns: 1fr; }
      .thesis-wide { padding: 20px; }
      .lottie-accent { display: none; }
    }
  </style>
</head>
<body>

<!-- ═══════════ LAYER 1: Spider Web Background ═══════════ -->
<div id="web-bg">
  <svg id="web-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240">
    <defs>
      <filter id="pulse-glow" x="-100%" y="-100%" width="300%" height="300%">
        <feDropShadow dx="0" dy="0" stdDeviation="3" flood-color="#E53E3E" flood-opacity="0.5"/>
      </filter>
    </defs>
    <g class="web-strands" transform="translate(120,120)" stroke="#E53E3E" stroke-width="1" fill="none" stroke-opacity="0.08">
      <!-- 9 radial threads -->
      <line x1="0" y1="0" x2="0" y2="-108"/>
      <line x1="0" y1="0" x2="65" y2="-87"/>
      <line x1="0" y1="0" x2="103" y2="-33"/>
      <line x1="0" y1="0" x2="95" y2="50"/>
      <line x1="0" y1="0" x2="40" y2="100"/>
      <line x1="0" y1="0" x2="-40" y2="100"/>
      <line x1="0" y1="0" x2="-95" y2="50"/>
      <line x1="0" y1="0" x2="-103" y2="-33"/>
      <line x1="0" y1="0" x2="-65" y2="-87"/>
      <!-- Outer ring -->
      <path d="M 0,-108 Q 38,-105 65,-87 Q 92,-65 103,-33 Q 108,10 95,50 Q 78,82 40,100 Q 5,110 -40,100 Q -78,82 -95,50 Q -108,10 -103,-33 Q -92,-65 -65,-87 Q -38,-105 0,-108 Z"/>
      <!-- Middle ring -->
      <path d="M 0,-70 Q 24,-68 42,-56 Q 60,-42 67,-21 Q 70,7 62,32 Q 51,53 26,65 Q 3,72 -26,65 Q -51,53 -62,32 Q -70,7 -67,-21 Q -60,-42 -42,-56 Q -24,-68 0,-70 Z"/>
      <!-- Inner ring -->
      <path d="M 0,-38 Q 13,-37 23,-30 Q 33,-23 36,-11 Q 38,4 34,18 Q 28,29 14,35 Q 2,39 -14,35 Q -28,29 -34,18 Q -38,4 -36,-11 Q -33,-23 -23,-30 Q -13,-37 0,-38 Z"/>
    </g>
    <!-- 8 signal pulses traveling along radial strands -->
    <g transform="translate(120,120)">
      <circle id="pulse-0" r="2.5" fill="#E53E3E" opacity="0" filter="url(#pulse-glow)"/>
      <circle id="pulse-1" r="2.5" fill="#E53E3E" opacity="0" filter="url(#pulse-glow)"/>
      <circle id="pulse-2" r="2.5" fill="#E53E3E" opacity="0" filter="url(#pulse-glow)"/>
      <circle id="pulse-3" r="2.5" fill="#E53E3E" opacity="0" filter="url(#pulse-glow)"/>
      <circle id="pulse-4" r="2.5" fill="#E53E3E" opacity="0" filter="url(#pulse-glow)"/>
      <circle id="pulse-5" r="2.5" fill="#E53E3E" opacity="0" filter="url(#pulse-glow)"/>
      <circle id="pulse-6" r="2.5" fill="#E53E3E" opacity="0" filter="url(#pulse-glow)"/>
      <circle id="pulse-7" r="2.5" fill="#E53E3E" opacity="0" filter="url(#pulse-glow)"/>
    </g>
  </svg>
</div>

<!-- ═══════════ Passcode Gate ═══════════ -->
<div id="gate" style="
  position:fixed;inset:0;z-index:9999;
  background:#141414;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  font-family:'Inter',-apple-system,sans-serif;
  transition:opacity 0.5s;
">
  <div id="gate-logo" style="
    width:120px;height:120px;
    border-radius:24px;
    background:#1A1A1A;
    border:1px solid #333333;
    display:flex;align-items:center;justify-content:center;
    margin-bottom:32px;
    padding:20px;
  "><img src="design/brandbook/someai/assets/LOGO.png" alt="SomeAI" style="width:72px;height:72px;object-fit:contain;"></div>
  <p style="color:#666666;font-size:13px;letter-spacing:2px;text-transform:uppercase;margin-bottom:24px;">Enter Access Code</p>
  <input id="gate-input" type="password" autocomplete="off" autofocus
    placeholder="&#x2022;&#x2022;&#x2022;&#x2022;&#x2022;&#x2022;&#x2022;"
    style="
      background:#1A1A1A;
      border:1px solid #333333;
      border-radius:12px;
      padding:14px 24px;
      font-size:18px;
      color:#E8E0E0;
      text-align:center;
      letter-spacing:4px;
      width:240px;
      outline:none;
      font-family:inherit;
      transition:border-color 0.2s;
    "
  >
  <p id="gate-error" style="color:#E53E3E;font-size:12px;margin-top:12px;opacity:0;transition:opacity 0.3s;">&nbsp;</p>
</div>

<script>
(function() {
  var PASSCODE = 'charles';
  var gate = document.getElementById('gate');
  var input = document.getElementById('gate-input');
  var error = document.getElementById('gate-error');

  if (sessionStorage.getItem('charles_auth') === '1') {
    gate.style.display = 'none';
  }

  input.addEventListener('keydown', function(e) {
    if (e.key === 'Enter') {
      if (input.value.toLowerCase().trim() === PASSCODE) {
        sessionStorage.setItem('charles_auth', '1');
        gate.style.opacity = '0';
        setTimeout(function() { gate.style.display = 'none'; }, 500);
      } else {
        input.value = '';
        input.style.borderColor = '#E53E3E';
        error.textContent = 'Invalid code';
        error.style.opacity = '1';
        setTimeout(function() {
          input.style.borderColor = '#333333';
          error.style.opacity = '0';
        }, 1500);
      }
    }
  });

  input.addEventListener('focus', function() { input.style.borderColor = '#444444'; });
  input.addEventListener('blur', function() { input.style.borderColor = '#333333'; });
})();
</script>

<!-- ═══════════ LAYER 2: Hero Section with Particle Canvas ═══════════ -->
<section id="hero">
  <canvas id="particle-canvas"></canvas>
  <div class="hero-overlay">
    <h1>Charlotte</h1>
    <p class="subtitle">An operating system for operations &mdash; from research instruments to compiled instruction sets</p>
  </div>
</section>

<!-- Lottie accent: hero → abstract transition -->
<div class="lottie-accent" aria-hidden="true">
  <dotlottie-wc
    src="https://lottie.host/4db68bbd-31f6-4cd8-84eb-189de081159a/IGmMCqhzpt.lottie"
    autoplay loop
    style="width:120px;height:120px">
  </dotlottie-wc>
</div>

<!-- ═══════════ Abstract ═══════════ -->
<div class="abstract">
  <h2>Abstract</h2>
  <p>
    <span class="highlight">Charlotte</span> is the first layer of an <strong>infinite stack of operating systems</strong>. Every business that wants to be a business gets its own OS &mdash; custom-compiled to its own operations, its own vocabulary, its own rhythm. A pig farm runs on a different instruction set than a violin dealer, which runs on a different instruction set than a moving company. But because every OS is built on top of Charlotte, they are all <strong>interoperable by construction</strong>. They can all talk to each other. They can all learn from each other. The kernel never changes.
  </p>
  <p>
    Charlotte is the universal layer: five primitives &mdash; <strong>Node, Edge, Metric, Signal, Protocol</strong> &mdash; and a temporal spine running from epoch to millisecond. The observer lives on this spine in Kd-space, placing signals on metric lines. Each domain OS stacked on top <strong>shrinks the convex hull</strong> of the knowledge space &mdash; restricting the vocabulary, tightening the instruction set, compiling a full end-to-end pipeline into the <strong>smallest possible encoding</strong> for that specific business. Layer 1 is universal. Layer N is bespoke. Every layer in between is just a tighter ontology.
  </p>
  <p>
    The result is not one product. It is an <strong>infinite number of products</strong> &mdash; each one custom, each one small enough to be invisible, each one powerful enough to run an entire operation &mdash; all stacked on the same kernel, all sharing the same temporal spine, all speaking the same language at the bottom. The correct measure of technological progress is not how much technology people use. It is <strong>how little they notice</strong>.
  </p>
</div>

<!-- Lottie accent: abstract → primitives transition -->
<div class="lottie-accent" aria-hidden="true">
  <dotlottie-wc
    src="https://lottie.host/b2d44b82-fd7e-401f-a4fa-77999147c0be/vqNwJryGBp.lottie"
    autoplay loop
    style="width:80px;height:80px">
  </dotlottie-wc>
</div>

<!-- ═══════════ LAYER 3: Five Primitives ═══════════ -->
<section class="primitives-section">
  <div class="primitives-header">
    <h2>Five Primitives</h2>
    <p>The universal kernel</p>
  </div>

  <div class="primitives-diagram">
    <svg viewBox="0 0 800 120" xmlns="http://www.w3.org/2000/svg" fill="none">
      <defs>
        <marker id="arrow-marker" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="5" markerHeight="5" orient="auto">
          <path d="M 0 1 L 10 5 L 0 9 z" fill="#444"/>
        </marker>
      </defs>
      <!-- Flow arrows -->
      <line class="flow-arrow" x1="118" y1="60" x2="202" y2="60" stroke="#444" stroke-width="1.5" stroke-dasharray="6 4" marker-end="url(#arrow-marker)"/>
      <line class="flow-arrow" x1="278" y1="60" x2="362" y2="60" stroke="#444" stroke-width="1.5" stroke-dasharray="6 4" marker-end="url(#arrow-marker)"/>
      <line class="flow-arrow" x1="438" y1="60" x2="522" y2="60" stroke="#444" stroke-width="1.5" stroke-dasharray="6 4" marker-end="url(#arrow-marker)"/>
      <line class="flow-arrow" x1="598" y1="60" x2="682" y2="60" stroke="#444" stroke-width="1.5" stroke-dasharray="6 4" marker-end="url(#arrow-marker)"/>
      <!-- NODE -->
      <circle cx="80" cy="60" r="38" stroke="#C4A8A8" stroke-width="1.5"/>
      <text x="80" y="64" text-anchor="middle" fill="#C4A8A8" font-size="11" font-weight="600" font-family="Inter, sans-serif" letter-spacing="0.5">NODE</text>
      <!-- EDGE -->
      <circle cx="240" cy="60" r="38" stroke="#9B7878" stroke-width="1.5"/>
      <text x="240" y="64" text-anchor="middle" fill="#9B7878" font-size="11" font-weight="600" font-family="Inter, sans-serif" letter-spacing="0.5">EDGE</text>
      <!-- METRIC -->
      <circle cx="400" cy="60" r="38" stroke="#F59E0B" stroke-width="1.5"/>
      <text x="400" y="64" text-anchor="middle" fill="#F59E0B" font-size="11" font-weight="600" font-family="Inter, sans-serif" letter-spacing="0.5">METRIC</text>
      <!-- SIGNAL -->
      <circle cx="560" cy="60" r="38" stroke="#E53E3E" stroke-width="1.5"/>
      <text x="560" y="64" text-anchor="middle" fill="#E53E3E" font-size="11" font-weight="600" font-family="Inter, sans-serif" letter-spacing="0.5">SIGNAL</text>
      <!-- PROTOCOL -->
      <circle cx="720" cy="60" r="38" stroke="#68D391" stroke-width="1.5"/>
      <text x="720" y="64" text-anchor="middle" fill="#68D391" font-size="10" font-weight="600" font-family="Inter, sans-serif" letter-spacing="0.5">PROTOCOL</text>
    </svg>
  </div>

  <div class="primitives-grid">
    <div class="primitive-card">
      <div class="primitive-icon" style="color:#C4A8A8">&#x25CF;</div>
      <h3 style="color:#C4A8A8">Node</h3>
      <p>The identity. An observable entity that persists through time.</p>
    </div>
    <div class="primitive-card">
      <div class="primitive-icon" style="color:#9B7878">&#x2194;</div>
      <h3 style="color:#9B7878">Edge</h3>
      <p>The relationship. A typed connection between two nodes.</p>
    </div>
    <div class="primitive-card">
      <div class="primitive-icon" style="color:#F59E0B">&#x2261;</div>
      <h3 style="color:#F59E0B">Metric</h3>
      <p>The measure. A quantifiable dimension observed along.</p>
    </div>
    <div class="primitive-card">
      <div class="primitive-icon" style="color:#E53E3E">&#x26A1;</div>
      <h3 style="color:#E53E3E">Signal</h3>
      <p>The event. A timestamped observation emitted on a metric.</p>
    </div>
    <div class="primitive-card">
      <div class="primitive-icon" style="color:#68D391">&#x25C6;</div>
      <h3 style="color:#68D391">Protocol</h3>
      <p>The rule. A constraint governing signal propagation.</p>
    </div>
  </div>
</section>

<hr class="divider">

<!-- ═══════════ Investment Thesis ═══════════ -->
<div class="thesis">
  <div class="thesis-header">
    <h2>Where We Are Going</h2>
    <p class="tagline">Invisible infrastructure for the 33.2 million businesses technology forgot</p>
  </div>

  <div class="thesis-wide">
    <h3>The 97% Thesis</h3>
    <p>
      There are <strong>33.2 million small businesses</strong> in the United States. <span class="al">97% were built before AI existed.</span> Most predate broadband internet. Many predate the personal computer. These businesses &mdash; corner-store libraries, family coffee shops, third-generation hardware stores &mdash; do not need more technology. They need the complexity of modernity to <strong>stop eroding them</strong> while they do what they were built to do.
    </p>
    <p>
      Charlotte is <strong>titanium injected directly into the bone</strong>. The business does not change. The owner learns nothing new. No new screens. No new logins. No training. No migration. The substrate observes the signals the business already emits &mdash; transactions, schedules, inventory, deliveries &mdash; and converts them into structural intelligence. <span class="hl">Devices manage themselves. The infrastructure thinks so the owner doesn't have to.</span> The endgame is not a world with more technology everywhere. It is a world with <strong>less visible technology and more underlying intelligence</strong>.
    </p>
  </div>

  <div class="thesis-wide">
    <h3>First Revenue <span class="live-badge">Live Feb 23, 2026</span></h3>
    <p>
      The <strong>first industrial sector contract</strong> goes live February 23, 2026 &mdash; <span class="gl">$1.4M over 2 years</span> for Charlotte-powered equipment intelligence deployed into a major MRO platform across 42 locations. This is the PE beachhead &mdash; not the ceiling. Each deployment proves the substrate works across a new domain, reduces onboarding cost by 30&ndash;40%, and generates cross-client intelligence that makes every subsequent deployment faster. The pattern scales from PE portfolio companies (<span class="al">~26,000</span>) to mid-market (<span class="al">~200,000</span>) to the <strong>33 million businesses</strong> that have never had access to this kind of infrastructure and never should have needed to ask.
    </p>
  </div>

  <!-- Lottie accent: signal pulse divider between thesis cards -->
  <div class="lottie-accent" aria-hidden="true">
    <dotlottie-wc
      src="https://lottie.host/1cf72a35-6d88-4d9a-9961-f1bb88087f2c/miJIHiyH4Q.lottie"
      autoplay loop
      style="width:60px;height:60px">
    </dotlottie-wc>
  </div>

  <div class="thesis-grid">
    <div class="thesis-card">
      <h3 class="blue">The Research Lab</h3>
      <p>
        Every project on this page is a <strong>containerized instance</strong> &mdash; a game Charlotte facilitates. The lab has produced <strong>13 research papers</strong> across Nature, IEEE, ACM, NeurIPS, Cognitive Science, and Research Policy. Charlotte is validated across <strong>seven domains</strong>: human behavior, biological systems, industrial equipment, cultural artifacts, marine ecosystems, logistics, and swarm intelligence. The production dataset contains <span class="val-highlight blue">27,200 nodes</span> and <span class="val-highlight blue">46,100 edges</span>. Each domain proves that a single kernel can compile into a completely different operating system &mdash; different instruction sets, different rhythms, same five primitives underneath.
      </p>
    </div>
    <div class="thesis-card">
      <h3 class="green">Serengeti Oasis</h3>
      <p>
        The endgame is a purpose-built <strong>50&ndash;200 acre property</strong> where dozens of businesses run side-by-side, each on its own compiled OS, all stacked on Charlotte. A coffee shop, a veterinary clinic, a co-working space, a logistics hub &mdash; each with a different instruction set, different metrics, different protocols &mdash; all sharing the same temporal spine, all visible to each other. Having them co-located allows real-time analysis of <strong>resonance between operating systems</strong>: how fast signals propagate across business boundaries, where patterns compound, what emerges when bespoke systems talk to each other. The village is simultaneously a revenue-generating commercial district, a live research environment, and a <strong>proof that infinite bespoke OSes can interoperate on one kernel</strong>.
      </p>
    </div>
    <div class="thesis-card">
      <h3 class="amber">The Absorption Model</h3>
      <p>
        The technology industry built one-size-fits-all software for the <strong>3% of businesses born digital</strong>. Charlotte builds an infinite number of bespoke operating systems for the other 97%. Each business gets its own OS &mdash; compiled from its own signals, shrunk to its own instruction set &mdash; without knowing it exists. The <strong>adoption tax</strong> disappears because there is nothing to adopt. The infrastructure observes what the business already does and compiles itself around it. At <span class="val-highlight amber">1% penetration</span> of American small businesses paying $1K&ndash;$10K/month for invisible infrastructure, the market generates <span class="val-highlight amber">$6B ARR</span> &mdash; exceeding Palantir, Snowflake, and MongoDB.
      </p>
    </div>
    <div class="thesis-card">
      <h3 class="purple">The PE Beachhead</h3>
      <p>
        PE firms manage <strong>~26,000 portfolio companies</strong> &mdash; 0.08% of all businesses. Charlotte eliminates <strong>$770K&ndash;$3.4M/year in integration tax</strong> per company. Post-acquisition integration drops from 12&ndash;24 months to <strong>hours</strong>. The fund deploys the infrastructure; portfolio companies never know it is there. From this beachhead, the same substrate extends to the <strong>33 million businesses</strong> that have never adopted enterprise software and never will. <strong>LTV:CAC exceeds 50:1.</strong> Churn is &lt;5% &mdash; not because switching is hard, but because there is nothing to switch from. The infrastructure is invisible. You cannot abandon what you never noticed.
      </p>
    </div>
  </div>

  <div class="thesis-wide">
    <h3>Revenue Model: Three Layers</h3>
    <table class="val-table">
      <tr><th>Layer</th><th>Market</th><th>Price Point</th><th>1% Penetration ARR</th></tr>
      <tr>
        <td style="color:#C4A8A8;font-weight:600">PE Beachhead</td>
        <td>~26,000 portfolio companies</td>
        <td>$100K+/mo</td>
        <td style="color:#C4A8A8">$312M</td>
      </tr>
      <tr>
        <td style="color:#F56565;font-weight:600">Mid-Market Expansion</td>
        <td>~200,000 companies ($10M&ndash;$1B rev)</td>
        <td>$5K&ndash;$50K/mo</td>
        <td style="color:#F56565">$780M</td>
      </tr>
      <tr>
        <td style="color:#F59E0B;font-weight:600">The 97% &mdash; Small Business America</td>
        <td>33,200,000 businesses</td>
        <td>$500&ndash;$3K/mo (invisible)</td>
        <td style="color:#F59E0B">$6.0B</td>
      </tr>
      <tr style="border-top:1px solid #333333">
        <td style="color:#68D391;font-weight:700">Combined (1% penetration)</td>
        <td></td>
        <td></td>
        <td style="color:#68D391;font-weight:700">$7.1B</td>
      </tr>
    </table>
    <p style="margin-top:14px">
      The 97% layer is the paradigm shift. These businesses do not buy software. They never have. Charlotte does not ask them to. The substrate observes what they already do and makes it legible &mdash; <strong>no screens, no logins, no training</strong>. At 1% penetration with invisible infrastructure pricing, the small business layer alone generates more ARR than Palantir's entire 2025 revenue.
    </p>
  </div>

  <div class="thesis-wide">
    <h3>Forecasted Valuation</h3>
    <p>
      Grounded in comparable company analysis against <strong>Palantir</strong> ($324B, 48&ndash;96x P/S), <strong>Databricks</strong> ($134B, 28x ARR), <strong>Snowflake</strong> ($75B, 12&ndash;17x), <strong>MongoDB</strong> ($34B), <strong>Toast</strong> ($20B), and <strong>Samsara</strong> ($14.5B). Charlotte's trajectory reflects a category-creating infrastructure company targeting the largest untapped market in enterprise technology &mdash; the 33 million businesses the industry has never served.
    </p>
    <table class="val-table">
      <tr><th></th><th>Year 5</th><th>Year 10</th><th>Basis</th></tr>
      <tr>
        <td>Revenue (ARR)</td>
        <td style="color:#68D391">$82M &ndash; $108M</td>
        <td style="color:#68D391">$920M &ndash; $1.2B</td>
        <td>PE + mid-market clusters &middot; 900&ndash;11K businesses</td>
      </tr>
      <tr>
        <td>97% Layer (additive)</td>
        <td style="color:#F59E0B">$0 &ndash; $500M</td>
        <td style="color:#F59E0B">$1B &ndash; $6B</td>
        <td>0.1%&ndash;1% small business penetration as absorption model scales</td>
      </tr>
      <tr>
        <td>Gross Margin</td>
        <td>74%</td>
        <td>85%+</td>
        <td>No onboarding, no training, no support tickets &mdash; pure observation</td>
      </tr>
      <tr>
        <td style="color:#F56565;font-weight:600">Low-End Valuation</td>
        <td style="color:#F56565;font-weight:700">$750M &ndash; $1.5B</td>
        <td style="color:#F56565;font-weight:700">$4B &ndash; $16B</td>
        <td>15&ndash;25x ARR &middot; PE + mid-market only</td>
      </tr>
      <tr>
        <td style="color:#C4A8A8;font-weight:600">High-End Valuation</td>
        <td style="color:#C4A8A8;font-weight:700">$3B &ndash; $6B</td>
        <td style="color:#C4A8A8;font-weight:700">$25B &ndash; $50B+</td>
        <td>30&ndash;50x ARR &middot; With 97% layer &middot; Category creation premium</td>
      </tr>
    </table>
    <p style="margin-top:14px">
      <strong>Pre-revenue seed valuation (today):</strong> <span class="hl">$25M&ndash;$50M</span> with PE network access. <span class="hl">$50M&ndash;$100M</span> with signed property LOI. The structural moat is not code &mdash; it is <strong>8 years of cross-domain research, 13 papers across 13 venues, 5 architectural innovations no competitor has replicated, and a substrate that serves 33.2 million businesses without asking a single one to change</strong>. The correct measure of technological progress is not how much technology people use. It is how little they notice.
    </p>
  </div>
</div>

<hr class="divider">

<!-- ═══════════ HEX MAP: Project Constellation ═══════════ -->
<section id="hex-map">
  <div class="hex-map-header">
    <h2>Project Constellation</h2>
    <p>Charlotte at center &mdash; spiraling outward by significance &mdash; click any hex to explore</p>
  </div>
  <canvas id="hex-canvas"></canvas>
</section>
<div id="hex-tooltip"></div>

<hr class="divider">

<!-- ═══════════ KERNEL & INFRASTRUCTURE ═══════════ -->
<div class="section-group">
  <div class="section-label kernel"><h2>Kernel &amp; Infrastructure</h2><span class="count">6 modules</span></div>
  <div class="grid">
    <a class="card card-kernel" href="https://jack-at-someai.github.io/core/research-lab/">
      <span class="icon">&#x1F9E0;</span>
      <div class="card-text"><h2>Research Lab</h2><p>The entire project as a knowledge graph</p><span class="tag tag-kernel">Meta</span></div>
    </a>
    <a class="card card-kernel" href="https://jack-at-someai.github.io/core/charlotte-os/">
      <span class="icon">&#x2699;</span>
      <div class="card-text"><h2>Charlotte OS</h2><p>Boot image &mdash; 28 KRF fact stacks in first-order logic</p><span class="tag tag-kernel">Kernel</span></div>
    </a>
    <a class="card card-kernel" href="https://jack-at-someai.github.io/core/workbench/">
      <span class="icon">&#x1F3A8;</span>
      <div class="card-text"><h2>Workbench</h2><p>Asset studio &mdash; Lottie, SVG &amp; design assets across all entities</p><span class="tag tag-kernel">Studio</span></div>
    </a>
    <a class="card card-kernel" href="https://jack-at-someai.github.io/core/papers/">
      <span class="icon">&#x1F4C4;</span>
      <div class="card-text"><h2>Research Papers</h2><p>13 draft papers across 13 venues &mdash; Nature to NeurIPS</p><span class="tag tag-research">Research</span></div>
    </a>
  </div>
</div>

<!-- ═══════════ VALIDATION DOMAINS ═══════════ -->
<div class="section-group">
  <div class="section-label domain"><h2>Validation Domains</h2><span class="count">9 operations</span></div>
  <div class="grid">
    <a class="card card-domain" href="https://jack-at-someai.github.io/core/business/sounder/">
      <span class="icon">&#x1F417;</span>
      <div class="card-text"><h2>Sounder</h2><p>Unified swine genetics infrastructure &mdash; 3 registries, 77K breeders, crossbred pedigree</p><span class="tag tag-domain">Biological</span></div>
    </a>
    <a class="card card-domain" href="https://jack-at-someai.github.io/core/business/industrial-service-group/">
      <span class="icon">&#x1F3ED;</span>
      <div class="card-text"><h2>ISG Knowledge Graph</h2><p>Industrial service operations substrate</p><span class="tag tag-domain">Mechanical</span></div>
    </a>
    <a class="card card-domain" href="https://jack-at-someai.github.io/core/business/violins/">
      <span class="icon">&#x1F3BB;</span>
      <div class="card-text"><h2>Prier Violins</h2><p>Rare instrument fund &amp; Charlotte substrate</p><span class="tag tag-domain">Cultural</span></div>
    </a>
    <a class="card card-domain" href="https://jack-at-someai.github.io/core/business/top-tier-moving/">
      <span class="icon">&#x1F69A;</span>
      <div class="card-text"><h2>Top Tier Moving</h2><p>Moving company baseball cards &amp; substrate</p><span class="tag tag-domain">Logistics</span></div>
    </a>
    <a class="card card-domain" href="https://jack-at-someai.github.io/core/business/allstate-manufacturing/">
      <span class="icon">&#x1F3ED;</span>
      <div class="card-text"><h2>All State Manufacturing</h2><p>Metal fabrication assessment &mdash; micro market fixtures, 50yr American manufacturer</p><span class="tag tag-domain">Manufacturing</span></div>
    </a>
    <a class="card card-domain" href="https://jack-at-someai.github.io/core/business/lineleap/">
      <span class="icon">&#x1F378;</span>
      <div class="card-text"><h2>LineLeap Agent</h2><p>Charlotte-powered bar management agent</p><span class="tag tag-domain">Human</span></div>
    </a>
    <a class="card card-domain" href="https://jack-at-someai.github.io/core/business/gesdate/">
      <span class="icon">&#x1F437;</span>
      <div class="card-text"><h2>GesDate Agent</h2><p>Charlotte-powered herd management agent</p><span class="tag tag-domain">Biological</span></div>
    </a>
    <a class="card card-domain" href="https://jack-at-someai.github.io/core/references/sealion/">
      <span class="icon">&#x1F9AD;</span>
      <div class="card-text"><h2>Sea Lion</h2><p>Ocean science &amp; marine biology research</p><span class="tag tag-domain">Marine</span></div>
    </a>
    <a class="card card-domain" href="https://jack-at-someai.github.io/core/tools/maestro/">
      <span class="icon">&#x1F4CA;</span>
      <div class="card-text"><h2>Maestro</h2><p>3-year strategy deployment quad matrix</p><span class="tag tag-domain">Strategy</span></div>
    </a>
    <a class="card card-domain" href="https://jack-at-someai.github.io/core/tools/gantt/">
      <span class="icon">&#x1F4C5;</span>
      <div class="card-text"><h2>Gantt</h2><p>Charlotte OS demo sprint — 12-day plan to Feb 23</p><span class="tag tag-domain">Sprint</span></div>
    </a>
  </div>
</div>

<!-- ═══════════ CONVEX HULL — REFERENCE LIBRARY ═══════════ -->
<div class="section-group">
  <div class="section-label reference"><h2>Convex Hull &mdash; Reference Library</h2><span class="count">26 references</span></div>
  <div class="grid">
    <a class="card" href="https://jack-at-someai.github.io/core/references/knowledge/">
      <span class="icon">&#x1F4D6;</span>
      <div class="card-text"><h2>Knowledge Primitives</h2><p>Structural, declarative, procedural, heuristic &amp; meta knowledge</p><span class="tag tag-reference">Convex Hull</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/formal-logic/">
      <span class="icon">&forall;</span>
      <div class="card-text"><h2>Formal Logic</h2><p>Propositional logic, FOL, lambda calculus &amp; Lisp</p><span class="tag tag-reference">Reference</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/graph-theory/">
      <span class="icon">&#x229B;</span>
      <div class="card-text"><h2>Graph Theory</h2><p>Knowledge graphs, ontologies &amp; graph databases</p><span class="tag tag-reference">Reference</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/topology/">
      <span class="icon">&#x25CE;</span>
      <div class="card-text"><h2>Topology</h2><p>Algebraic topology, TDA &amp; higher dimensions</p><span class="tag tag-reference">Reference</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/cognitive-science/">
      <span class="icon">&#x1F9E0;</span>
      <div class="card-text"><h2>Cognitive Science</h2><p>Predictive coding, Bayesian brain &amp; resonance</p><span class="tag tag-reference">Reference</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/signal-processing/">
      <span class="icon">&#x3030;</span>
      <div class="card-text"><h2>Signal Processing</h2><p>Time series, frequency domain &amp; drift detection</p><span class="tag tag-reference">Reference</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/temporal-databases/">
      <span class="icon">&#x23F1;</span>
      <div class="card-text"><h2>Temporal Databases</h2><p>Event sourcing, bitemporal modeling &amp; CQRS</p><span class="tag tag-reference">Reference</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/spatial-computing/">
      <span class="icon">&#x1F30D;</span>
      <div class="card-text"><h2>Spatial Computing</h2><p>GIS, spatial databases &amp; geospatial algorithms</p><span class="tag tag-reference">Reference</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/systems-architecture/">
      <span class="icon">&#x1F3D7;</span>
      <div class="card-text"><h2>Systems Architecture</h2><p>Distributed systems, DDD &amp; event-driven design</p><span class="tag tag-reference">Reference</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/game-theory/">
      <span class="icon">&#x265F;</span>
      <div class="card-text"><h2>Game Theory</h2><p>Nash equilibrium, mechanism design &amp; evolutionary strategy</p><span class="tag tag-reference">Reference</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/neuroscience/">
      <span class="icon">&#x1F9EC;</span>
      <div class="card-text"><h2>Neuroscience</h2><p>Neural geometry reference hub</p><span class="tag tag-reference">Reference</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/nature-inspired-algorithms/">
      <span class="icon">&#x1F9EC;</span>
      <div class="card-text"><h2>Nature-Inspired Algorithms</h2><p>Evolutionary computation &amp; swarm intelligence</p><span class="tag tag-reference">Reference</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/livestock-science/">
      <span class="icon">&#x1F404;</span>
      <div class="card-text"><h2>Livestock Science</h2><p>Genetics, breeding, reproduction &amp; show industry</p><span class="tag tag-reference">Reference</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/biomimicry/">
      <span class="icon">&#x1F33F;</span>
      <div class="card-text"><h2>Biomimicry</h2><p>Principles, methodology &amp; case studies</p><span class="tag tag-reference">Reference</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/bio-architecture/">
      <span class="icon">&#x1F3DB;</span>
      <div class="card-text"><h2>Bio-Architecture</h2><p>Termite ventilation, shells &amp; tensegrity</p><span class="tag tag-reference">Reference</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/bio-inspired-robotics/">
      <span class="icon">&#x1F916;</span>
      <div class="card-text"><h2>Bio-Inspired Robotics</h2><p>Soft robotics, legged robots &amp; swarm systems</p><span class="tag tag-reference">Reference</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/bio-locomotion/">
      <span class="icon">&#x1F98E;</span>
      <div class="card-text"><h2>Bio-Locomotion</h2><p>Flight, swimming &amp; collective motion</p><span class="tag tag-reference">Reference</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/bio-optics-photonics/">
      <span class="icon">&#x1F52C;</span>
      <div class="card-text"><h2>Bio-Optics &amp; Photonics</h2><p>Structural color, bioluminescence &amp; camouflage</p><span class="tag tag-reference">Reference</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/bio-surfaces/">
      <span class="icon">&#x1F9EB;</span>
      <div class="card-text"><h2>Bio-Surfaces</h2><p>Superhydrophobicity, gecko adhesion &amp; shark skin</p><span class="tag tag-reference">Reference</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/biomimetic-materials/">
      <span class="icon">&#x1F9EA;</span>
      <div class="card-text"><h2>Biomimetic Materials</h2><p>Self-healing, shape memory &amp; hierarchical composites</p><span class="tag tag-reference">Reference</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/structural-biomimetics/">
      <span class="icon">&#x1F9B4;</span>
      <div class="card-text"><h2>Structural Biomimetics</h2><p>Natural composites, silk, nacre &amp; bone</p><span class="tag tag-reference">Reference</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/spider-silk/">
      <span class="icon">&#x1F577;</span>
      <div class="card-text"><h2>Spider Silk</h2><p>Silk biology, biomaterials &amp; husbandry</p><span class="tag tag-reference">Reference</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/ecological-systems-design/">
      <span class="icon">&#x267B;</span>
      <div class="card-text"><h2>Ecological Systems Design</h2><p>Circular economy &amp; regenerative design</p><span class="tag tag-reference">Reference</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/entomology/">
      <span class="icon">&#x1F41B;</span>
      <div class="card-text"><h2>Entomology</h2><p>Insect biology, pollination &amp; biomimicry</p><span class="tag tag-reference">Reference</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/references/atomic-design/">
      <span class="icon">&#x269B;</span>
      <div class="card-text"><h2>Atomic Design</h2><p>Component hierarchy &amp; design systems</p><span class="tag tag-reference">Reference</span></div>
    </a>
  </div>
</div>

<!-- ═══════════ RESEARCH INSTRUMENTS ═══════════ -->
<div class="section-group">
  <div class="section-label research"><h2>Research Instruments</h2><span class="count">23 modules</span></div>
  <div class="grid">
    <a class="card card-research" href="https://jack-at-someai.github.io/core/math/swarm-intelligence/">
      <span class="icon">&#x1F41D;</span>
      <div class="card-text"><h2>Swarm Intelligence</h2><p>Northwestern 2019 curriculum, boids lab &amp; multi-agent systems</p><span class="tag tag-research">Research</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/math/chaostheory/">
      <span class="icon">&#x1F300;</span>
      <div class="card-text"><h2>Chaos Theory</h2><p>Strange attractors &amp; dynamical systems</p><span class="tag tag-instrument">Simulation</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/math/fourier/">
      <span class="icon">&#x3030;</span>
      <div class="card-text"><h2>Fourier</h2><p>Fourier transform visualization</p><span class="tag tag-instrument">Math</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/math/cnn/">
      <span class="icon">&#x1F9E0;</span>
      <div class="card-text"><h2>CNN</h2><p>Convolutional neural network visualizer</p><span class="tag tag-instrument">ML</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/math/neuralplayground/">
      <span class="icon">&#x1F52E;</span>
      <div class="card-text"><h2>Neural Playground</h2><p>Interactive neural network playground</p><span class="tag tag-instrument">ML</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/math/sacred-geometry/">
      <span class="icon">&#x2721;</span>
      <div class="card-text"><h2>Sacred Geometry</h2><p>Geometric pattern generator</p><span class="tag tag-instrument">Math</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/math/tsp-algorithm-visualizer/">
      <span class="icon">&#x1F5FA;</span>
      <div class="card-text"><h2>TSP Visualizer</h2><p>Traveling salesman algorithm visualizer</p><span class="tag tag-instrument">Algorithm</span></div>
    </a>
    <a class="card card-research" href="https://jack-at-someai.github.io/core/zeus-car-kit/">
      <span class="icon">&#x1F697;</span>
      <div class="card-text"><h2>Zeus Car Kit</h2><p>3D spatial mapper &mdash; ultrasonic, IR &amp; dead reckoning</p><span class="tag tag-research">Robotics</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/games/hexgrid/">
      <span class="icon">&#x2B21;</span>
      <div class="card-text"><h2>Hex Grid</h2><p>Hexagonal grid system</p><span class="tag tag-instrument">Tool</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/games/isometric/">
      <span class="icon">&#x1F4D0;</span>
      <div class="card-text"><h2>Isometric</h2><p>Isometric grid builder</p><span class="tag tag-instrument">Tool</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/games/aseprite/">
      <span class="icon">&#x1F3A8;</span>
      <div class="card-text"><h2>Aseprite</h2><p>Pixel art sprite editor</p><span class="tag tag-instrument">Tool</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/games/chess/">
      <span class="icon">&#x265F;</span>
      <div class="card-text"><h2>Chess</h2><p>Chess game with AI opponent</p><span class="tag tag-instrument">Game</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/games/go/">
      <span class="icon">&#x26AB;</span>
      <div class="card-text"><h2>Go</h2><p>The ancient board game of Go</p><span class="tag tag-instrument">Game</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/games/pig-simulator/">
      <span class="icon">&#x1F416;</span>
      <div class="card-text"><h2>Pig Simulator</h2><p>Pixel art show pig breeding &amp; exhibition</p><span class="tag tag-instrument">Game</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/games/against-the-storm/">
      <span class="icon">&#x1F3F0;</span>
      <div class="card-text"><h2>Against the Storm</h2><p>Settlement management companion</p><span class="tag tag-instrument">Game</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/games/maplestory/">
      <span class="icon">&#x1F41F;</span>
      <div class="card-text"><h2>MapleStory Bazaar</h2><p>Fish market vendor simulation</p><span class="tag tag-instrument">Game</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/games/starfield/">
      <span class="icon">&#x2728;</span>
      <div class="card-text"><h2>Starfield / BITWISE</h2><p>Binary lockpicking puzzle game</p><span class="tag tag-instrument">Game</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/games/2048/">
      <span class="icon">&#x1F522;</span>
      <div class="card-text"><h2>2048</h2><p>Sliding tile puzzle game</p><span class="tag tag-instrument">Game</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/games/tetris/">
      <span class="icon">&#x1F7E6;</span>
      <div class="card-text"><h2>Tetris</h2><p>Falling block puzzle game</p><span class="tag tag-instrument">Game</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/games/minesweeper/">
      <span class="icon">&#x1F4A3;</span>
      <div class="card-text"><h2>Minesweeper</h2><p>Classic mine-sweeping puzzle</p><span class="tag tag-instrument">Game</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/games/sudoku/">
      <span class="icon">&#x1F532;</span>
      <div class="card-text"><h2>Sudoku</h2><p>Number placement puzzle</p><span class="tag tag-instrument">Game</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/games/solitaire-glass/">
      <span class="icon">&#x1F0CF;</span>
      <div class="card-text"><h2>Solitaire Glass</h2><p>Glassmorphism solitaire card game</p><span class="tag tag-instrument">Game</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/games/snake/">
      <span class="icon">&#x1F40D;</span>
      <div class="card-text"><h2>Snake</h2><p>Classic snake game</p><span class="tag tag-instrument">Game</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/games/pong/">
      <span class="icon">&#x1F3D3;</span>
      <div class="card-text"><h2>Pong</h2><p>Classic paddle ball game</p><span class="tag tag-instrument">Game</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/games/tic-tac-toe/">
      <span class="icon">&#x274C;</span>
      <div class="card-text"><h2>Tic-Tac-Toe</h2><p>Classic X and O game</p><span class="tag tag-instrument">Game</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/games/block-dude/">
      <span class="icon">&#x1F9F1;</span>
      <div class="card-text"><h2>Block Dude</h2><p>Block-pushing puzzle platformer</p><span class="tag tag-instrument">Game</span></div>
    </a>
  </div>
</div>

<hr class="divider">

<!-- ═══════════ BRAND BOOKS ═══════════ -->
<div class="section-group">
  <div class="section-label domain"><h2>Brand Books</h2><span class="count">8 brands</span></div>
  <div class="grid">
    <a class="card card-domain" href="https://jack-at-someai.github.io/core/design/brandbook/someai/">
      <span class="icon"><img src="design/brandbook/someai/assets/LOGO.png" alt="SomeAI" style="width:32px;height:32px;object-fit:contain"></span>
      <div class="card-text"><h2>SomeAI</h2><p>Research lab &mdash; spider web mark, red/mauve palette</p><span class="tag tag-domain">Brand</span></div>
    </a>
    <a class="card card-domain" href="https://jack-at-someai.github.io/core/design/brandbook/isg/">
      <span class="icon"><img src="design/brandbook/isg/assets/logo_and_name.png" alt="ISG" style="width:32px;height:32px;object-fit:contain"></span>
      <div class="card-text"><h2>Industrial Service Group</h2><p>Rotating equipment &mdash; gear-globe mark, navy/gold palette</p><span class="tag tag-domain">Brand</span></div>
    </a>
    <a class="card card-domain" href="https://jack-at-someai.github.io/core/design/brandbook/richard-enterprises/">
      <span class="icon"><img src="design/brandbook/richard-enterprises/assets/logo_and_name.png" alt="Richard Enterprises" style="width:32px;height:32px;object-fit:contain"></span>
      <div class="card-text"><h2>Richard Enterprises</h2><p>PE holding company &mdash; lion crest, navy/steel palette</p><span class="tag tag-domain">Brand</span></div>
    </a>
    <a class="card card-domain" href="https://jack-at-someai.github.io/core/design/brandbook/sounder/">
      <span class="icon"><img src="design/brandbook/sounder/assets/SOUNDER_BRAND_ICON.png" alt="Sounder" style="width:32px;height:32px;object-fit:contain;border-radius:4px"></span>
      <div class="card-text"><h2>Sounder</h2><p>Swine genetics platform &mdash; stacked chevrons, purple/magenta/cyan</p><span class="tag tag-domain">Brand</span></div>
    </a>
    <a class="card card-domain" href="https://jack-at-someai.github.io/core/design/brandbook/allstate-manufacturing/">
      <span class="icon">&#x2692;</span>
      <div class="card-text"><h2>All State Mfg</h2><p>Metal fabrication &mdash; steel blue/forge orange, industrial identity</p><span class="tag tag-domain">Brand</span></div>
    </a>
    <a class="card card-domain" href="https://jack-at-someai.github.io/core/design/brandbook/sea-lion/">
      <span class="icon">&#x1F9AD;</span>
      <div class="card-text"><h2>Sea Lion</h2><p>Ocean science venture &mdash; pixel art lion, deep blue palette</p><span class="tag tag-domain">Brand</span></div>
    </a>
    <a class="card card-domain" href="https://jack-at-someai.github.io/core/design/brandbook/serengeti/">
      <span class="icon">&#x1F981;</span>
      <div class="card-text"><h2>Serengeti Enterprises</h2><p>Venture ecosystem &mdash; savanna gold, earth tones</p><span class="tag tag-domain">Brand</span></div>
    </a>
    <a class="card" href="https://jack-at-someai.github.io/core/design/brandbook/apple/">
      <span class="icon">&#xF8FF;</span>
      <div class="card-text"><h2>Apple iOS 26</h2><p>Liquid Glass design system baseline reference</p><span class="tag tag-reference">Reference</span></div>
    </a>
  </div>
</div>

<!-- ═══════════ Master Animation Script ═══════════ -->
<script>
(function() {
  var REDUCED_MOTION = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  var IS_MOBILE = window.innerWidth < 700;
  var animating = true;

  // Pause animations when tab is hidden (Layer 6)
  document.addEventListener('visibilitychange', function() {
    animating = !document.hidden;
  });

  // If reduced motion, make everything visible immediately and bail
  if (REDUCED_MOTION) {
    var allEls = document.querySelectorAll('.card, .thesis-card, .thesis-wide, .abstract, .primitives-section, #hex-map');
    for (var i = 0; i < allEls.length; i++) allEls[i].classList.add('visible');
    return;
  }

  // === LAYER 5: Scroll-Triggered Card Entrances ===
  var scrollElements = document.querySelectorAll('.card, .thesis-card, .thesis-wide, .abstract, .primitives-section, #hex-map');

  // Calculate stagger delays per parent container
  var parents = new Map();
  for (var i = 0; i < scrollElements.length; i++) {
    var el = scrollElements[i];
    var p = el.parentElement;
    if (!parents.has(p)) parents.set(p, []);
    parents.get(p).push(el);
  }
  parents.forEach(function(els) {
    for (var i = 0; i < els.length; i++) {
      els[i].style.transitionDelay = (i * 50) + 'ms';
    }
  });

  var scrollObserver = new IntersectionObserver(function(entries) {
    for (var i = 0; i < entries.length; i++) {
      if (entries[i].isIntersecting) {
        entries[i].target.classList.add('visible');
        scrollObserver.unobserve(entries[i].target);
      }
    }
  }, { threshold: 0.08, rootMargin: '0px 0px -40px 0px' });

  for (var i = 0; i < scrollElements.length; i++) {
    scrollObserver.observe(scrollElements[i]);
  }

  // === LAYER 1: Spider Web Pulse Animation ===
  var radials = [
    [0, -108], [65, -87], [103, -33], [95, 50],
    [40, 100], [-40, 100], [-95, 50], [-103, -33], [-65, -87]
  ];
  var NUM_PULSES = IS_MOBILE ? 4 : 8;
  var pulses = [];

  for (var i = 0; i < NUM_PULSES; i++) {
    var el = document.getElementById('pulse-' + i);
    if (!el) continue;
    pulses.push({
      el: el,
      strand: Math.floor(Math.random() * radials.length),
      duration: 3000 + Math.random() * 3000,
      elapsed: Math.random() * 6000
    });
  }

  function updatePulses(dt) {
    for (var i = 0; i < pulses.length; i++) {
      var p = pulses[i];
      p.elapsed += dt;
      if (p.elapsed >= p.duration) {
        p.elapsed = 0;
        p.strand = Math.floor(Math.random() * radials.length);
        p.duration = 3000 + Math.random() * 3000;
      }
      var t = p.elapsed / p.duration;
      var end = radials[p.strand];
      p.el.setAttribute('cx', end[0] * t);
      p.el.setAttribute('cy', end[1] * t);
      // Fade in first 10%, fade out last 15%
      var opacity = t < 0.1 ? t / 0.1 : (t > 0.85 ? (1 - t) / 0.15 : 1);
      p.el.setAttribute('opacity', Math.max(0, Math.min(1, opacity)).toFixed(2));
    }
  }

  // === LAYER 2: Particle Network Hero Canvas ===
  var canvas = document.getElementById('particle-canvas');
  var particles = [];
  var ctx, W, H;
  var mouse = { x: -9999, y: -9999 };
  var PARTICLE_COLORS = ['#E53E3E', '#F59E0B', '#C4A8A8'];

  if (canvas && !IS_MOBILE) {
    ctx = canvas.getContext('2d');

    function resizeCanvas() {
      var parent = canvas.parentElement;
      W = parent.offsetWidth;
      H = parent.offsetHeight;
      var dpr = window.devicePixelRatio || 1;
      canvas.width = W * dpr;
      canvas.height = H * dpr;
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    }

    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    // Initialize 35 particles
    for (var i = 0; i < 35; i++) {
      particles.push({
        x: Math.random() * (W || 800),
        y: Math.random() * (H || 400),
        vx: (Math.random() - 0.5) * 0.4,
        vy: (Math.random() - 0.5) * 0.4,
        r: 1.5 + Math.random() * 2,
        color: PARTICLE_COLORS[Math.floor(Math.random() * 3)]
      });
    }

    canvas.addEventListener('mousemove', function(e) {
      var rect = canvas.getBoundingClientRect();
      mouse.x = e.clientX - rect.left;
      mouse.y = e.clientY - rect.top;
    });
    canvas.addEventListener('mouseleave', function() {
      mouse.x = -9999;
      mouse.y = -9999;
    });
  }

  function drawParticles() {
    if (!ctx || !W || !H) return;
    ctx.clearRect(0, 0, W, H);

    // Update and draw particles
    for (var i = 0; i < particles.length; i++) {
      var p = particles[i];

      // Gentle mouse attraction
      var dx = mouse.x - p.x;
      var dy = mouse.y - p.y;
      var dist = Math.sqrt(dx * dx + dy * dy);
      if (dist < 200 && dist > 1) {
        p.vx += (dx / dist) * 0.012;
        p.vy += (dy / dist) * 0.012;
      }

      p.x += p.vx;
      p.y += p.vy;
      p.vx *= 0.997;
      p.vy *= 0.997;

      // Wrap edges
      if (p.x < -10) p.x = W + 10;
      if (p.x > W + 10) p.x = -10;
      if (p.y < -10) p.y = H + 10;
      if (p.y > H + 10) p.y = -10;

      ctx.beginPath();
      ctx.arc(p.x, p.y, p.r, 0, 6.2832);
      ctx.fillStyle = p.color;
      ctx.globalAlpha = 0.6;
      ctx.fill();
    }

    // Draw connecting lines between nearby particles
    ctx.globalAlpha = 1;
    for (var i = 0; i < particles.length; i++) {
      for (var j = i + 1; j < particles.length; j++) {
        var dx = particles[i].x - particles[j].x;
        var dy = particles[i].y - particles[j].y;
        var dist = Math.sqrt(dx * dx + dy * dy);
        if (dist < 120) {
          var alpha = 0.12 * (1 - dist / 120);
          ctx.beginPath();
          ctx.moveTo(particles[i].x, particles[i].y);
          ctx.lineTo(particles[j].x, particles[j].y);
          ctx.strokeStyle = 'rgba(229,62,62,' + alpha.toFixed(3) + ')';
          ctx.lineWidth = 0.5;
          ctx.stroke();
        }
      }
    }
    ctx.globalAlpha = 1;
  }

  // === MAIN ANIMATION LOOP ===
  var lastTime = 0;

  function loop(time) {
    if (!animating) {
      lastTime = 0;
      requestAnimationFrame(loop);
      return;
    }

    var dt = lastTime ? Math.min(time - lastTime, 50) : 16;
    lastTime = time;

    updatePulses(dt);
    if (canvas && !IS_MOBILE) drawParticles();

    requestAnimationFrame(loop);
  }

  requestAnimationFrame(loop);

  // === HEX MAP: Project Constellation ===
  var hexCanvas = document.getElementById('hex-canvas');
  if (hexCanvas) {
    var hctx = hexCanvas.getContext('2d');
    var hexSize = IS_MOBILE ? 28 : 44;
    var B = 'https://jack-at-someai.github.io/core/';

    // Category color schemes
    var CC = {
      center:     { f: 'rgba(229,62,62,0.25)', s: '#E53E3E', t: '#E53E3E' },
      kernel:     { f: 'rgba(229,62,62,0.12)', s: '#E53E3E', t: '#F56565' },
      domain:     { f: 'rgba(104,211,145,0.12)', s: '#68D391', t: '#68D391' },
      reference:  { f: 'rgba(196,168,168,0.08)', s: '#6B4F4F', t: '#C4A8A8' },
      research:   { f: 'rgba(245,158,11,0.10)', s: '#F59E0B', t: '#F59E0B' },
      instrument: { f: 'rgba(102,102,102,0.08)', s: '#444',   t: '#999' }
    };

    // All 68 projects in spiral order: center → ring1 → ring2 → ring3 → ring4 → ring5(partial)
    var P = [
      // Ring 0 — Center
      {n:'Charlotte',i:'\u{1F578}',u:null,c:'center'},
      // Ring 1 — Kernel (6)
      {n:'Research Lab',i:'\u{1F9E0}',u:B+'research-lab/',c:'kernel'},
      {n:'Charlotte OS',i:'\u2699',u:B+'charlotte-os/',c:'kernel'},
      {n:'Papers',i:'\u{1F4C4}',u:B+'papers/',c:'kernel'},
      {n:'Workbench',i:'\u{1F3A8}',u:B+'workbench/',c:'kernel'},
      // Ring 2 — Domains + anchors (12)
      {n:'Sounder',i:'\u{1F417}',u:B+'business/sounder/',c:'domain'},
      {n:'ISG',i:'\u{1F3ED}',u:B+'business/industrial-service-group/',c:'domain'},
      {n:'Prier Violins',i:'\u{1F3BB}',u:B+'business/violins/',c:'domain'},
      {n:'Top Tier',i:'\u{1F69A}',u:B+'business/top-tier-moving/',c:'domain'},
      {n:'All State Mfg',i:'\u2692',u:B+'business/allstate-manufacturing/',c:'domain'},
      {n:'LineLeap',i:'\u{1F378}',u:B+'business/lineleap/',c:'domain'},
      {n:'GesDate',i:'\u{1F437}',u:B+'business/gesdate/',c:'domain'},
      {n:'Sea Lion',i:'\u{1F9AD}',u:B+'references/sealion/',c:'domain'},
      {n:'Maestro',i:'\u{1F3BC}',u:B+'tools/maestro/',c:'domain'},
      {n:'Gantt',i:'\u{1F4C5}',u:B+'tools/gantt/',c:'domain'},
      {n:'Swarm Intel',i:'\u{1F41D}',u:B+'math/swarm-intelligence/',c:'research'},
      {n:'Knowledge',i:'\u{1F4D6}',u:B+'references/knowledge/',c:'reference'},
      {n:'Formal Logic',i:'\u2200',u:B+'references/formal-logic/',c:'reference'},
      {n:'Graph Theory',i:'\u229B',u:B+'references/graph-theory/',c:'reference'},
      // Ring 3 — References + instruments (18)
      {n:'Topology',i:'\u25CE',u:B+'references/topology/',c:'reference'},
      {n:'Cog Science',i:'\u{1F9E0}',u:B+'references/cognitive-science/',c:'reference'},
      {n:'Signal Proc',i:'\u3030',u:B+'references/signal-processing/',c:'reference'},
      {n:'Temporal DB',i:'\u23F1',u:B+'references/temporal-databases/',c:'reference'},
      {n:'Spatial',i:'\u{1F30D}',u:B+'references/spatial-computing/',c:'reference'},
      {n:'Systems Arch',i:'\u{1F3D7}',u:B+'references/systems-architecture/',c:'reference'},
      {n:'Game Theory',i:'\u265F',u:B+'references/game-theory/',c:'reference'},
      {n:'Neuroscience',i:'\u{1F9EC}',u:B+'references/neuroscience/',c:'reference'},
      {n:'Nature Algo',i:'\u{1F9EC}',u:B+'references/nature-inspired-algorithms/',c:'reference'},
      {n:'Livestock',i:'\u{1F404}',u:B+'references/livestock-science/',c:'reference'},
      {n:'Biomimicry',i:'\u{1F33F}',u:B+'references/biomimicry/',c:'reference'},
      {n:'CNN',i:'\u{1F9E0}',u:B+'math/cnn/',c:'instrument'},
      {n:'Neural Play',i:'\u{1F52E}',u:B+'math/neuralplayground/',c:'instrument'},
      {n:'Chaos Theory',i:'\u{1F300}',u:B+'math/chaostheory/',c:'instrument'},
      {n:'Fourier',i:'\u3030',u:B+'math/fourier/',c:'instrument'},
      {n:'Sacred Geo',i:'\u2721',u:B+'math/sacred-geometry/',c:'instrument'},
      {n:'TSP',i:'\u{1F5FA}',u:B+'math/tsp-algorithm-visualizer/',c:'instrument'},
      // Ring 4 — Bio-references + games (24)
      {n:'Bio-Arch',i:'\u{1F3DB}',u:B+'references/bio-architecture/',c:'reference'},
      {n:'Bio-Robotics',i:'\u{1F916}',u:B+'references/bio-inspired-robotics/',c:'reference'},
      {n:'Locomotion',i:'\u{1F98E}',u:B+'references/bio-locomotion/',c:'reference'},
      {n:'Bio-Optics',i:'\u{1F52C}',u:B+'references/bio-optics-photonics/',c:'reference'},
      {n:'Bio-Surfaces',i:'\u{1F9EB}',u:B+'references/bio-surfaces/',c:'reference'},
      {n:'Bio-Materials',i:'\u{1F9EA}',u:B+'references/biomimetic-materials/',c:'reference'},
      {n:'Struct Bio',i:'\u{1F9B4}',u:B+'references/structural-biomimetics/',c:'reference'},
      {n:'Spider Silk',i:'\u{1F577}',u:B+'references/spider-silk/',c:'reference'},
      {n:'Eco Design',i:'\u267B',u:B+'references/ecological-systems-design/',c:'reference'},
      {n:'Entomology',i:'\u{1F41B}',u:B+'references/entomology/',c:'reference'},
      {n:'Atomic Design',i:'\u269B',u:B+'references/atomic-design/',c:'reference'},
      {n:'Hex Grid',i:'\u2B21',u:B+'games/hexgrid/',c:'instrument'},
      {n:'Isometric',i:'\u{1F4D0}',u:B+'games/isometric/',c:'instrument'},
      {n:'Aseprite',i:'\u{1F3A8}',u:B+'games/aseprite/',c:'instrument'},
      {n:'Chess',i:'\u265F',u:B+'games/chess/',c:'instrument'},
      {n:'Go',i:'\u26AB',u:B+'games/go/',c:'instrument'},
      {n:'Pig Sim',i:'\u{1F416}',u:B+'games/pig-simulator/',c:'instrument'},
      {n:'Storm',i:'\u{1F3F0}',u:B+'games/against-the-storm/',c:'instrument'},
      {n:'MapleStory',i:'\u{1F41F}',u:B+'games/maplestory/',c:'instrument'},
      {n:'Starfield',i:'\u2728',u:B+'games/starfield/',c:'instrument'},
      {n:'2048',i:'\u{1F522}',u:B+'games/2048/',c:'instrument'},
      {n:'Tetris',i:'\u{1F7E6}',u:B+'games/tetris/',c:'instrument'},
      {n:'Minesweeper',i:'\u{1F4A3}',u:B+'games/minesweeper/',c:'instrument'},
      {n:'Zeus Car',i:'\u{1F697}',u:B+'zeus-car-kit/',c:'research'},
      // Ring 5 — Outer games (6 of 30, evenly spaced)
      {n:'Sudoku',i:'\u{1F532}',u:B+'games/sudoku/',c:'instrument'},
      {n:'Solitaire',i:'\u{1F0CF}',u:B+'games/solitaire-glass/',c:'instrument'},
      {n:'Snake',i:'\u{1F40D}',u:B+'games/snake/',c:'instrument'},
      {n:'Pong',i:'\u{1F3D3}',u:B+'games/pong/',c:'instrument'},
      {n:'Tic-Tac-Toe',i:'\u274C',u:B+'games/tic-tac-toe/',c:'instrument'},
      {n:'Block Dude',i:'\u{1F9F1}',u:B+'games/block-dude/',c:'instrument'}
    ];

    // Hex math — cube coordinates, pointy-top orientation
    var DIRS = [{q:1,r:0},{q:1,r:-1},{q:0,r:-1},{q:-1,r:0},{q:-1,r:1},{q:0,r:1}];

    function hexRing(radius) {
      if (radius === 0) return [{q:0,r:0}];
      var res = [], h = {q:-radius, r:radius};
      for (var i = 0; i < 6; i++)
        for (var j = 0; j < radius; j++) {
          res.push({q:h.q, r:h.r});
          h = {q:h.q+DIRS[i].q, r:h.r+DIRS[i].r};
        }
      return res;
    }

    // Build spiral positions for all 68 projects
    var hexPos = hexRing(0);
    for (var r = 1; r <= 4; r++) hexPos = hexPos.concat(hexRing(r));
    // Ring 5: 7 hexes, roughly evenly spaced around the 30-position ring
    var r5 = hexRing(5);
    var r5idx = [0, 4, 8, 13, 17, 21, 26];
    for (var i = 0; i < r5idx.length; i++) hexPos.push(r5[r5idx[i]]);

    // Pointy-top hex → pixel
    function h2p(q, r, sz, ox, oy) {
      return {
        x: sz * (1.7320508 * q + 0.8660254 * r) + ox,
        y: sz * (1.5 * r) + oy
      };
    }

    // Pixel → hex (cube round)
    function p2h(px, py, sz, ox, oy) {
      var x = (px - ox) / sz, y = (py - oy) / sz;
      var q = 0.57735027 * x - 0.33333333 * y;
      var r = 0.66666667 * y;
      var s = -q - r;
      var rq = Math.round(q), rr = Math.round(r), rs = Math.round(s);
      var dq = Math.abs(rq-q), dr = Math.abs(rr-r), ds = Math.abs(rs-s);
      if (dq > dr && dq > ds) rq = -rr-rs;
      else if (dr > ds) rr = -rq-rs;
      else rs = -rq-rr;
      return {q:rq, r:rr};
    }

    // Draw single hex shape
    function drawHex(cx, cy, sz, fill, stroke, lw) {
      hctx.beginPath();
      for (var i = 0; i < 6; i++) {
        var a = Math.PI / 3 * i - Math.PI / 6;
        var x = cx + sz * Math.cos(a), y = cy + sz * Math.sin(a);
        i === 0 ? hctx.moveTo(x, y) : hctx.lineTo(x, y);
      }
      hctx.closePath();
      if (fill) { hctx.fillStyle = fill; hctx.fill(); }
      if (stroke) { hctx.strokeStyle = stroke; hctx.lineWidth = lw || 1; hctx.stroke(); }
    }

    // Truncate text to fit hex
    function trunc(s, max) { return s.length > max ? s.slice(0, max-1) + '\u2026' : s; }

    var hexHovered = -1;

    function drawHexMap() {
      var dpr = window.devicePixelRatio || 1;
      hexSize = IS_MOBILE ? 28 : (window.innerWidth < 1000 ? 36 : 44);

      // Calculate canvas bounds from positions
      var maxX = 0, maxY = 0;
      for (var i = 0; i < hexPos.length; i++) {
        var pt = h2p(hexPos[i].q, hexPos[i].r, hexSize, 0, 0);
        maxX = Math.max(maxX, Math.abs(pt.x));
        maxY = Math.max(maxY, Math.abs(pt.y));
      }
      var cw = Math.ceil((maxX + hexSize * 1.3) * 2);
      var ch = Math.ceil((maxY + hexSize * 1.3) * 2);

      // Clamp to container
      var containerW = hexCanvas.parentElement.offsetWidth;
      if (cw > containerW) {
        var scale = containerW / cw;
        hexSize = Math.floor(hexSize * scale);
        // Recalculate
        maxX = 0; maxY = 0;
        for (var i = 0; i < hexPos.length; i++) {
          var pt = h2p(hexPos[i].q, hexPos[i].r, hexSize, 0, 0);
          maxX = Math.max(maxX, Math.abs(pt.x));
          maxY = Math.max(maxY, Math.abs(pt.y));
        }
        cw = Math.ceil((maxX + hexSize * 1.3) * 2);
        ch = Math.ceil((maxY + hexSize * 1.3) * 2);
      }

      hexCanvas.style.width = cw + 'px';
      hexCanvas.style.height = ch + 'px';
      hexCanvas.width = cw * dpr;
      hexCanvas.height = ch * dpr;
      hctx.setTransform(dpr, 0, 0, dpr, 0, 0);

      var ox = cw / 2, oy = ch / 2;

      // Draw hexes
      for (var i = 0; i < hexPos.length && i < P.length; i++) {
        var hp = hexPos[i];
        var proj = P[i];
        var pt = h2p(hp.q, hp.r, hexSize, ox, oy);
        var col = CC[proj.c];
        var hov = (i === hexHovered);

        // Hex fill + border
        var fillColor = col.f;
        var strokeColor = col.s;
        var lw = 1;
        if (hov) {
          fillColor = proj.c === 'center' ? 'rgba(229,62,62,0.4)' :
                      proj.c === 'kernel' ? 'rgba(229,62,62,0.25)' :
                      proj.c === 'domain' ? 'rgba(104,211,145,0.25)' :
                      proj.c === 'reference' ? 'rgba(196,168,168,0.18)' :
                      proj.c === 'research' ? 'rgba(245,158,11,0.25)' :
                      'rgba(102,102,102,0.18)';
          strokeColor = '#E8E0E0';
          lw = 2;
        }
        drawHex(pt.x, pt.y, hexSize * 0.94, fillColor, strokeColor, lw);

        // Center: special glow ring
        if (i === 0) {
          drawHex(pt.x, pt.y, hexSize * 0.7, null, 'rgba(229,62,62,0.3)', 1.5);
        }

        // Emoji icon
        var emojiSize = Math.max(12, Math.round(hexSize * 0.38));
        hctx.font = emojiSize + 'px serif';
        hctx.textAlign = 'center';
        hctx.textBaseline = 'middle';
        hctx.fillText(proj.i, pt.x, pt.y - hexSize * 0.14);

        // Name label
        var nameSize = Math.max(6, Math.round(hexSize * 0.18));
        hctx.font = '600 ' + nameSize + 'px Inter, sans-serif';
        hctx.fillStyle = hov ? '#FFFFFF' : col.t;
        hctx.textAlign = 'center';
        hctx.textBaseline = 'top';
        var maxChars = Math.max(6, Math.floor(hexSize * 0.04 * 10));
        hctx.fillText(trunc(proj.n, maxChars), pt.x, pt.y + hexSize * 0.18);
      }
    }

    // Build lookup for fast hit detection
    var hexLookup = {};
    for (var i = 0; i < hexPos.length; i++) {
      hexLookup[hexPos[i].q + ',' + hexPos[i].r] = i;
    }

    // Mouse interaction
    hexCanvas.addEventListener('mousemove', function(e) {
      var rect = hexCanvas.getBoundingClientRect();
      var mx = e.clientX - rect.left;
      var my = e.clientY - rect.top;
      var ox = hexCanvas.offsetWidth / 2;
      var oy = hexCanvas.offsetHeight / 2;
      var hh = p2h(mx, my, hexSize, ox, oy);
      var key = hh.q + ',' + hh.r;
      var idx = hexLookup[key] !== undefined ? hexLookup[key] : -1;
      if (idx >= P.length) idx = -1;

      if (idx !== hexHovered) {
        hexHovered = idx;
        drawHexMap();
      }

      var tip = document.getElementById('hex-tooltip');
      if (hexHovered >= 0) {
        tip.textContent = P[hexHovered].n;
        tip.classList.add('show');
      } else {
        tip.classList.remove('show');
      }
      tip.style.left = (e.clientX + 14) + 'px';
      tip.style.top = (e.clientY - 36) + 'px';
    });

    hexCanvas.addEventListener('click', function() {
      if (hexHovered >= 0 && P[hexHovered].u) {
        window.open(P[hexHovered].u, '_self');
      }
    });

    hexCanvas.addEventListener('mouseleave', function() {
      hexHovered = -1;
      drawHexMap();
      document.getElementById('hex-tooltip').classList.remove('show');
    });

    // Draw on load + resize
    drawHexMap();
    window.addEventListener('resize', function() {
      hexSize = IS_MOBILE ? 28 : (window.innerWidth < 1000 ? 36 : 44);
      drawHexMap();
    });
  }

})();
</script>

</body>
</html>
