/* === PorkPal â€” Swine Herd Management === */
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#0a0e17;--panel:#111827;--card:#1e293b;--card-hover:#253349;
  --accent:#6366f1;--hover:#818cf8;
  --cyan:#22d3ee;--magenta:#ec4899;--green:#22c55e;--amber:#f59e0b;--red:#ef4444;
  --text:#e2e8f0;--muted:#94a3b8;--dim:#64748b;--radius:8px;
  --pink:#f472b6;--orange:#fb923c;
}
body{background:var(--bg);color:var(--text);font-family:'Inter',-apple-system,sans-serif;min-height:100vh}
#app{max-width:1100px;margin:0 auto;padding:12px 20px 60px}

/* Header */
header{display:flex;justify-content:space-between;align-items:center;padding:14px 0 10px;flex-wrap:wrap;gap:8px}
.header-left{display:flex;align-items:baseline;gap:10px}
.header-left h1{font-size:1.6rem;font-weight:800;background:linear-gradient(135deg,var(--cyan),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.header-subtitle{font-size:.82rem;color:var(--muted);font-weight:500}
.header-right{display:flex;align-items:center;gap:8px}
.header-stat{font-size:.78rem;color:var(--dim);background:var(--card);padding:4px 10px;border-radius:12px;font-weight:600}

/* Tabs */
#tab-bar{display:flex;gap:2px;border-bottom:2px solid rgba(99,102,241,.3);margin-bottom:18px;overflow-x:auto;-webkit-overflow-scrolling:touch}
.tab{background:none;border:none;color:var(--muted);font:600 .82rem/1 'Inter',sans-serif;padding:10px 14px;cursor:pointer;border-radius:var(--radius) var(--radius) 0 0;white-space:nowrap;transition:all .15s}
.tab:hover{color:var(--text);background:rgba(99,102,241,.15)}
.tab.active{color:#fff;background:var(--accent)}

/* Panels */
.panel{display:none}.panel.active{display:block}

/* Cards */
.card{background:var(--card);border-radius:var(--radius);padding:14px 16px;margin-bottom:10px;transition:background .15s}
.card:hover{background:var(--card-hover)}
.card-row{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:14px}
.stat-card{flex:1;min-width:140px;background:var(--panel);border-radius:var(--radius);padding:16px;text-align:center;border:1px solid rgba(255,255,255,.05)}
.stat-card .stat-val{font-size:1.9rem;font-weight:800}
.stat-card .stat-label{font-size:.75rem;color:var(--muted);margin-top:3px;text-transform:uppercase;letter-spacing:.5px}
.stat-cyan .stat-val{color:var(--cyan)}
.stat-magenta .stat-val{color:var(--magenta)}
.stat-green .stat-val{color:var(--green)}
.stat-amber .stat-val{color:var(--amber)}
.stat-red .stat-val{color:var(--red)}

/* Section headings */
.section-title{font-size:.95rem;font-weight:700;color:var(--cyan);margin:20px 0 10px;display:flex;align-items:center;gap:8px;text-transform:uppercase;letter-spacing:.5px}
.section-title-row{display:flex;justify-content:space-between;align-items:center;margin:20px 0 10px}
.section-title-row .section-title{margin:0}

/* Buttons */
.btn{display:inline-flex;align-items:center;gap:5px;padding:8px 16px;border:none;border-radius:var(--radius);font:600 .83rem/1.3 'Inter',sans-serif;cursor:pointer;transition:all .15s}
.btn:active{transform:scale(.97)}
.btn-primary{background:var(--accent);color:#fff}.btn-primary:hover{background:var(--hover)}
.btn-success{background:var(--green);color:#fff}.btn-success:hover{background:#16a34a}
.btn-warning{background:var(--amber);color:#000}.btn-warning:hover{background:#d97706}
.btn-danger{background:var(--red);color:#fff}.btn-danger:hover{background:#dc2626}
.btn-sm{padding:5px 10px;font-size:.78rem}
.btn-ghost{background:rgba(255,255,255,.07);color:var(--text)}.btn-ghost:hover{background:rgba(255,255,255,.13)}
.btn-outline{background:transparent;border:1px solid var(--accent);color:var(--accent)}.btn-outline:hover{background:rgba(99,102,241,.15)}
.btn-group{display:flex;gap:6px;flex-wrap:wrap}

/* Filter bar */
.filter-bar{display:flex;gap:8px;flex-wrap:wrap;align-items:center;margin-bottom:14px}
.filter-bar input,.filter-bar select{background:var(--panel);color:var(--text);border:1px solid rgba(255,255,255,.12);border-radius:var(--radius);padding:8px 12px;font-size:.83rem;outline:none;font-family:inherit}
.filter-bar input:focus,.filter-bar select:focus{border-color:var(--accent)}
.spacer{flex:1}

/* Form fields */
.form-group{margin-bottom:14px}
.form-group label{display:block;font-size:.78rem;color:var(--muted);margin-bottom:4px;font-weight:600;text-transform:uppercase;letter-spacing:.3px}
.form-group input,.form-group select,.form-group textarea{width:100%;background:var(--card);color:var(--text);border:1px solid rgba(255,255,255,.12);border-radius:var(--radius);padding:9px 12px;font-size:.85rem;font-family:inherit;outline:none}
.form-group input:focus,.form-group select:focus,.form-group textarea:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(99,102,241,.2)}
.form-group textarea{resize:vertical;min-height:60px}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.form-row-3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px}

/* Table */
.data-table{width:100%;border-collapse:collapse;font-size:.83rem}
.data-table th{text-align:left;padding:10px 12px;font-weight:700;color:var(--muted);font-size:.75rem;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid rgba(255,255,255,.08);white-space:nowrap}
.data-table td{padding:10px 12px;border-bottom:1px solid rgba(255,255,255,.05);vertical-align:middle}
.data-table tr:hover td{background:rgba(255,255,255,.03)}
.data-table .clickable{cursor:pointer}

/* Status badges */
.badge{display:inline-flex;align-items:center;gap:4px;padding:3px 10px;border-radius:12px;font-size:.73rem;font-weight:600;white-space:nowrap}
.badge-open{background:rgba(34,211,238,.15);color:var(--cyan)}
.badge-bred{background:rgba(99,102,241,.2);color:var(--hover)}
.badge-confirmed{background:rgba(34,197,94,.15);color:var(--green)}
.badge-farrowing{background:rgba(236,72,153,.2);color:var(--magenta)}
.badge-nursing{background:rgba(244,114,182,.2);color:var(--pink)}
.badge-weaned{background:rgba(251,146,60,.15);color:var(--orange)}
.badge-dry{background:rgba(148,163,184,.15);color:var(--muted)}
.badge-retired{background:rgba(100,116,139,.15);color:var(--dim)}
.badge-sold{background:rgba(34,197,94,.15);color:var(--green)}
.badge-boar{background:rgba(34,211,238,.15);color:var(--cyan)}
.badge-sow{background:rgba(236,72,153,.15);color:var(--magenta)}
.badge-warning{background:rgba(245,158,11,.15);color:var(--amber)}
.badge-danger{background:rgba(239,68,68,.15);color:var(--red)}

/* Progress bar */
.progress-wrap{height:20px;background:rgba(255,255,255,.08);border-radius:10px;overflow:hidden;position:relative}
.progress-bar{height:100%;border-radius:10px;transition:width .4s}
.progress-bar.gest{background:linear-gradient(90deg,var(--accent),var(--cyan))}
.progress-label{position:absolute;top:0;left:0;right:0;text-align:center;font-size:.7rem;line-height:20px;font-weight:600;color:#fff}

/* Due date urgency */
.due-soon{color:var(--red);font-weight:600}
.due-mid{color:var(--amber);font-weight:600}
.due-far{color:var(--green)}

/* Operations grid */
.ops-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:14px;margin-bottom:16px}
.ops-section{background:var(--panel);border-radius:var(--radius);padding:16px;border:1px solid rgba(255,255,255,.06)}
.ops-section-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.ops-section-header h3{font-size:.88rem;font-weight:700;color:var(--cyan)}
.ops-capacity{font-size:.75rem;color:var(--muted)}
.crate-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(70px,1fr));gap:6px}
.crate{padding:8px 4px;border-radius:6px;text-align:center;font-size:.7rem;font-weight:600;border:1px dashed rgba(255,255,255,.12);transition:all .15s;cursor:pointer;min-height:56px;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:2px}
.crate.empty{color:var(--dim);background:rgba(255,255,255,.02)}
.crate.occupied{background:rgba(99,102,241,.12);border-color:var(--accent);border-style:solid;color:var(--text)}
.crate .crate-label{font-size:.62rem;color:var(--dim);text-transform:uppercase}
.crate .crate-animal{font-size:.78rem;color:var(--cyan);font-weight:700}

/* Photo Feed */
.feed-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px}
.feed-post{background:var(--card);border-radius:var(--radius);overflow:hidden;border:1px solid rgba(255,255,255,.06)}
.feed-post-header{display:flex;align-items:center;gap:10px;padding:12px 14px}
.feed-avatar{width:36px;height:36px;border-radius:50%;background:var(--accent);display:flex;align-items:center;justify-content:center;font-size:1.1rem;font-weight:700;color:#fff;flex-shrink:0}
.feed-author{font-weight:600;font-size:.85rem}
.feed-time{font-size:.72rem;color:var(--dim)}
.feed-image-wrap{position:relative;width:100%;padding-top:75%;background:var(--panel);overflow:hidden}
.feed-image-wrap img{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}
.feed-image-placeholder{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:4rem;background:linear-gradient(135deg,rgba(99,102,241,.15),rgba(236,72,153,.15))}
.feed-body{padding:12px 14px}
.feed-caption{font-size:.85rem;line-height:1.5;margin-bottom:8px}
.feed-actions{display:flex;gap:16px;padding:8px 14px 12px;border-top:1px solid rgba(255,255,255,.06)}
.feed-action-btn{background:none;border:none;color:var(--muted);font:600 .78rem/1 'Inter',sans-serif;cursor:pointer;display:flex;align-items:center;gap:4px;padding:4px 0;transition:color .15s}
.feed-action-btn:hover{color:var(--cyan)}
.feed-action-btn.liked{color:var(--red)}
.feed-comments{padding:6px 14px 12px;border-top:1px solid rgba(255,255,255,.04)}
.feed-comment{font-size:.8rem;margin-bottom:4px;line-height:1.4}
.feed-comment strong{color:var(--cyan);font-weight:600}
.feed-comment-input{display:flex;gap:6px;margin-top:6px}
.feed-comment-input input{flex:1;background:var(--panel);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:6px 12px;color:var(--text);font-size:.8rem;outline:none}
.feed-comment-input button{background:var(--accent);border:none;color:#fff;padding:6px 12px;border-radius:16px;font-size:.78rem;font-weight:600;cursor:pointer}

/* Upload area */
.upload-area{border:2px dashed rgba(255,255,255,.15);border-radius:var(--radius);padding:30px;text-align:center;cursor:pointer;transition:all .2s;margin-bottom:12px}
.upload-area:hover{border-color:var(--accent);background:rgba(99,102,241,.05)}
.upload-area .upload-icon{font-size:2rem;margin-bottom:6px}
.upload-area .upload-text{font-size:.85rem;color:var(--muted)}
.upload-preview{max-width:200px;max-height:200px;border-radius:var(--radius);margin-top:10px}

/* Timeline */
.timeline{position:relative;padding-left:24px}
.timeline::before{content:'';position:absolute;left:8px;top:4px;bottom:4px;width:2px;background:rgba(99,102,241,.3)}
.timeline-item{position:relative;margin-bottom:16px;padding-left:16px}
.timeline-item::before{content:'';position:absolute;left:-20px;top:6px;width:10px;height:10px;border-radius:50%;background:var(--accent);border:2px solid var(--bg)}
.timeline-item .tl-date{font-size:.72rem;color:var(--dim);font-weight:600}
.timeline-item .tl-content{font-size:.83rem;margin-top:2px}

/* Dashboard week calendar */
.week-cal{display:grid;grid-template-columns:repeat(7,1fr);gap:6px;margin-bottom:16px}
.week-day{background:var(--panel);border-radius:var(--radius);padding:10px 6px;text-align:center;min-height:70px;border:1px solid rgba(255,255,255,.05)}
.week-day.today{border-color:var(--accent);background:rgba(99,102,241,.1)}
.week-day .wd-label{font-size:.68rem;color:var(--dim);text-transform:uppercase;font-weight:600}
.week-day .wd-num{font-size:1.1rem;font-weight:700;margin:2px 0}
.week-day .wd-events{font-size:.65rem;color:var(--amber);font-weight:600;margin-top:4px}

/* Activity list */
.activity-item{display:flex;gap:10px;align-items:flex-start;padding:8px 0;border-bottom:1px solid rgba(255,255,255,.04);font-size:.83rem}
.activity-dot{width:8px;height:8px;border-radius:50%;margin-top:6px;flex-shrink:0}
.activity-text{flex:1;line-height:1.4}
.activity-time{font-size:.72rem;color:var(--dim);white-space:nowrap}

/* Sow profile card */
.sow-profile{display:grid;grid-template-columns:auto 1fr;gap:16px;align-items:start}
.sow-photo-wrap{width:120px;height:120px;border-radius:var(--radius);background:var(--panel);overflow:hidden;display:flex;align-items:center;justify-content:center;font-size:3rem;border:2px solid rgba(255,255,255,.08)}
.sow-photo-wrap img{width:100%;height:100%;object-fit:cover}
.sow-detail-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px;font-size:.83rem}
.sow-detail-grid .detail-label{font-size:.72rem;color:var(--dim);text-transform:uppercase;font-weight:600}
.sow-detail-grid .detail-val{font-weight:600}

/* Modal */
#modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px;backdrop-filter:blur(4px)}
#modal-overlay.hidden{display:none}
#modal{background:var(--panel);border-radius:12px;width:100%;max-width:580px;max-height:90vh;overflow-y:auto;box-shadow:0 16px 48px rgba(0,0,0,.5);border:1px solid rgba(255,255,255,.06)}
#modal-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid rgba(255,255,255,.08)}
#modal-header h2{font-size:1.05rem;font-weight:700;color:var(--cyan)}
#modal-close{background:none;border:none;color:var(--muted);font-size:1.5rem;cursor:pointer;line-height:1;padding:4px}
#modal-close:hover{color:#fff}
#modal-body{padding:18px 20px}
#modal-footer{display:flex;justify-content:flex-end;gap:8px;padding:14px 20px;border-top:1px solid rgba(255,255,255,.08)}

/* Toast */
#toast-container{position:fixed;top:0;left:50%;transform:translateX(-50%);z-index:2000;display:flex;flex-direction:column;gap:6px;padding-top:12px}
.toast{background:linear-gradient(135deg,rgba(34,211,238,.15),rgba(99,102,241,.2));border:1px solid rgba(34,211,238,.4);color:var(--cyan);padding:12px 24px;border-radius:var(--radius);font-weight:600;font-size:.85rem;text-align:center;animation:toastIn .35s ease-out,toastOut .35s 2.65s ease-in forwards;white-space:nowrap;backdrop-filter:blur(8px)}
@keyframes toastIn{from{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}
@keyframes toastOut{from{opacity:1}to{opacity:0;transform:translateY(-20px)}}

/* Scrollbar */
::-webkit-scrollbar{width:6px;height:6px}
::-webkit-scrollbar-track{background:var(--bg)}
::-webkit-scrollbar-thumb{background:var(--accent);border-radius:3px}

/* Charts (simple CSS bar charts) */
.bar-chart{display:flex;align-items:flex-end;gap:6px;height:120px;padding:8px 0;border-bottom:1px solid rgba(255,255,255,.08)}
.bar-col{flex:1;display:flex;flex-direction:column;align-items:center;gap:4px}
.bar-fill{width:100%;border-radius:4px 4px 0 0;transition:height .4s;min-height:2px}
.bar-val{font-size:.65rem;font-weight:700;color:var(--text)}
.bar-label{font-size:.6rem;color:var(--dim);text-align:center;margin-top:4px}

/* Empty state */
.empty-state{text-align:center;padding:40px 20px;color:var(--muted)}
.empty-state .empty-icon{font-size:3rem;margin-bottom:10px}
.empty-state .empty-text{font-size:.9rem;margin-bottom:14px}

/* Responsive */
@media(max-width:768px){
  #app{padding:8px 12px 40px}
  .form-row,.form-row-3{grid-template-columns:1fr}
  .ops-grid{grid-template-columns:1fr}
  .feed-grid{grid-template-columns:1fr}
  .week-cal{grid-template-columns:repeat(7,1fr);gap:3px}
  .week-day{padding:6px 2px;min-height:50px}
  .sow-profile{grid-template-columns:1fr}
  .sow-photo-wrap{width:100%;height:160px}
  .data-table{font-size:.75rem}
  .data-table th,.data-table td{padding:6px 8px}
  header{flex-direction:column;align-items:flex-start}
}
@media(max-width:480px){
  .card-row{flex-direction:column}
  .stat-card{min-width:100%}
}
