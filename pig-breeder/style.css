/* === Sounder Dark Theme — Champion Pig Breeder === */
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#0a0e17;--panel:#111827;--card:#1e293b;
  --accent:#6366f1;--hover:#818cf8;
  --cyan:#22d3ee;--magenta:#ec4899;
  --text:#e2e8f0;--muted:#94a3b8;--radius:7px;
}
body{background:var(--bg);color:var(--text);font-family:'Inter',-apple-system,sans-serif;min-height:100vh}
#app{max-width:920px;margin:0 auto;padding:12px 16px 40px}

/* Header */
header{display:flex;justify-content:space-between;align-items:center;padding:10px 0 6px}
header h1{font-size:1.45rem;font-weight:700;color:var(--cyan)}
#rep-display{font-weight:600;color:var(--magenta);font-size:1.05rem}

/* Tabs */
#tab-bar{display:flex;gap:4px;border-bottom:2px solid var(--accent);padding-bottom:0;margin-bottom:16px;overflow-x:auto}
.tab{background:none;border:none;color:var(--muted);font:600 .88rem/1 'Inter',-apple-system,sans-serif;padding:9px 14px;cursor:pointer;border-radius:var(--radius) var(--radius) 0 0;white-space:nowrap;transition:background .15s,color .15s}
.tab:hover{color:var(--text);background:rgba(99,102,241,.25)}
.tab.active{color:#fff;background:var(--accent)}

/* Panels */
.panel{display:none}.panel.active{display:block}

/* Cards */
.card{background:var(--card);border-radius:var(--radius);padding:14px 16px;margin-bottom:10px}
.card-row{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:12px}
.stat-card{flex:1;min-width:130px;background:var(--panel);border-radius:var(--radius);padding:14px;text-align:center}
.stat-card .stat-val{font-size:1.7rem;font-weight:700;color:var(--cyan)}
.stat-card .stat-label{font-size:.78rem;color:var(--muted);margin-top:2px}

/* Buttons */
.btn{display:inline-flex;align-items:center;gap:5px;padding:7px 16px;border:none;border-radius:var(--radius);font:600 .85rem/1.3 'Inter',-apple-system,sans-serif;cursor:pointer;transition:background .15s,transform .1s}
.btn:active{transform:scale(.97)}
.btn-primary{background:var(--accent);color:#fff}
.btn-primary:hover{background:var(--hover)}
.btn-danger{background:#8b0000;color:#fff}
.btn-danger:hover{background:#b30000}
.btn-sm{padding:5px 10px;font-size:.8rem}
.btn-ghost{background:rgba(255,255,255,.07);color:var(--text)}
.btn-ghost:hover{background:rgba(255,255,255,.13)}

/* Pig Pen */
.pig-pen{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:8px;margin:10px 0}
.pig-pen-item{display:flex;flex-direction:column;align-items:center;gap:3px;padding:10px 4px;background:var(--panel);border-radius:var(--radius);cursor:pointer;transition:background .15s,transform .15s;text-align:center}
.pig-pen-item:hover{background:var(--accent);transform:translateY(-2px)}
.pig-pen-item .pig-emoji{font-size:2rem}
.pig-pen-item .pig-name{font-size:.72rem;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:76px}
.pig-pen-item.sire{border-bottom:3px solid var(--cyan)}
.pig-pen-item.sow{border-bottom:3px solid var(--magenta)}

/* Section headings */
.section-title{font-size:1rem;font-weight:700;color:var(--cyan);margin:18px 0 8px;display:flex;align-items:center;gap:8px}

/* Pig cards in herd */
.pig-card{display:flex;gap:14px;align-items:center;cursor:pointer;transition:background .15s}
.pig-card:hover{background:rgba(255,255,255,.05)}
.pig-card .pig-avatar{font-size:2.4rem;min-width:50px;text-align:center}
.pig-card .pig-info{flex:1}
.pig-card .pig-info h3{font-size:.95rem;font-weight:700}
.pig-card .pig-info .pig-meta{font-size:.78rem;color:var(--muted);margin-top:2px}
.pig-card .pig-badges{display:flex;gap:4px}
.pig-badge{font-size:.7rem;padding:2px 7px;border-radius:10px;font-weight:600}
.pig-badge.sire-badge{background:rgba(34,211,238,.2);color:var(--cyan)}
.pig-badge.sow-badge{background:rgba(236,72,153,.2);color:var(--magenta)}

/* Filter bar */
.filter-bar{display:flex;gap:8px;flex-wrap:wrap;align-items:center;margin-bottom:12px}
.filter-bar input,.filter-bar select{background:var(--panel);color:var(--text);border:1px solid rgba(255,255,255,.12);border-radius:var(--radius);padding:7px 10px;font-size:.85rem;outline:none}
.filter-bar input:focus,.filter-bar select:focus{border-color:var(--accent)}
.filter-bar .spacer{flex:1}

/* Breeding */
.pair-builder{display:grid;grid-template-columns:1fr auto 1fr;gap:10px;align-items:end;margin-bottom:14px}
.pair-builder .pair-x{font-size:1.4rem;font-weight:700;color:var(--magenta);text-align:center;padding-bottom:6px}
.pair-builder label{font-size:.78rem;color:var(--muted);display:block;margin-bottom:3px}
.pair-builder select,.pair-builder input{width:100%;background:var(--panel);color:var(--text);border:1px solid rgba(255,255,255,.12);border-radius:var(--radius);padding:7px 10px;font-size:.85rem}
.compat-box{background:var(--panel);border-radius:var(--radius);padding:10px 14px;margin-bottom:14px;font-size:.83rem;line-height:1.5}
.compat-stars{color:gold;letter-spacing:2px}
.breeding-card{display:flex;gap:12px;align-items:center}
.breeding-card .breed-pair{font-weight:600;min-width:180px}
.breeding-card .breed-bar-wrap{flex:1;height:18px;background:rgba(255,255,255,.08);border-radius:9px;overflow:hidden;position:relative}
.breeding-card .breed-bar{height:100%;background:linear-gradient(90deg,var(--accent),var(--cyan));border-radius:9px;transition:width .3s}
.breeding-card .breed-bar-label{position:absolute;top:0;left:0;right:0;text-align:center;font-size:.7rem;line-height:18px;font-weight:600}
.breeding-card .breed-actions{display:flex;gap:5px}
.breeding-card .breed-due{font-size:.78rem;color:var(--muted);min-width:90px;text-align:right}

/* Litters */
.litter-card .litter-header{display:flex;justify-content:space-between;align-items:center;cursor:pointer}
.litter-card .litter-header h3{font-size:.92rem;font-weight:700}
.litter-card .litter-stats{font-size:.78rem;color:var(--muted)}
.piglet-list{margin-top:10px;padding-top:8px;border-top:1px solid rgba(255,255,255,.08)}
.piglet-row{display:flex;align-items:center;gap:10px;padding:5px 0;font-size:.84rem}
.piglet-row .piglet-sex{font-size:1.1rem}
.piglet-row .piglet-info{flex:1}
.piglet-row .piglet-promoted{color:var(--cyan);font-size:.75rem;font-weight:600}

/* Shows */
.show-card{display:flex;gap:12px;align-items:center}
.show-card .show-placing{min-width:50px;text-align:center;font-size:1.4rem;font-weight:700;border-radius:var(--radius)}
.placing-champion{color:gold}
.placing-1{color:gold}.placing-2{color:silver}.placing-3{color:#cd7f32}

/* Pedigree tree */
.pedigree-wrap{display:flex;justify-content:center;margin-top:16px;overflow-x:auto;padding:10px 0}
.ped-tree{display:flex;align-items:center;gap:30px}
.ped-col{display:flex;flex-direction:column;gap:14px}
.ped-node{background:var(--card);border:2px solid var(--accent);border-radius:var(--radius);padding:10px 14px;min-width:130px;text-align:center;position:relative}
.ped-node h4{font-size:.85rem;font-weight:700;color:var(--cyan)}
.ped-node .ped-breed{font-size:.72rem;color:var(--muted)}
.ped-node .ped-reg{font-size:.68rem;color:var(--muted);font-style:italic}
.ped-node.ped-subject{border-color:var(--magenta);min-width:150px}
.ped-node.ped-subject h4{color:var(--magenta)}
.ped-node.unknown{border-style:dashed;opacity:.45}
.ped-connector{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:14px}
.ped-line{width:28px;height:2px;background:var(--accent)}

/* Due date urgency */
.due-soon{color:#ff6b6b;font-weight:600}
.due-mid{color:gold;font-weight:600}
.due-far{color:var(--cyan)}

/* Achievement badges */
.ach-grid{display:flex;flex-wrap:wrap;gap:8px;margin:8px 0}
.ach-badge{display:flex;align-items:center;gap:5px;padding:6px 12px;border-radius:20px;font-size:.78rem;font-weight:600;background:rgba(255,255,255,.06);color:var(--muted);border:1px solid rgba(255,255,255,.08)}
.ach-badge.earned{background:rgba(255,215,0,.15);color:gold;border-color:rgba(255,215,0,.35)}
.ach-badge .ach-icon{font-size:1rem}

/* Modal */
#modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px}
#modal-overlay.hidden{display:none}
#modal{background:var(--panel);border-radius:10px;width:100%;max-width:520px;max-height:90vh;overflow-y:auto;box-shadow:0 12px 40px rgba(0,0,0,.5)}
#modal-header{display:flex;justify-content:space-between;align-items:center;padding:14px 18px;border-bottom:1px solid rgba(255,255,255,.08)}
#modal-header h2{font-size:1.05rem;font-weight:700;color:var(--cyan)}
#modal-close{background:none;border:none;color:var(--muted);font-size:1.5rem;cursor:pointer;line-height:1}
#modal-close:hover{color:#fff}
#modal-body{padding:16px 18px}
#modal-footer{display:flex;justify-content:flex-end;gap:8px;padding:12px 18px;border-top:1px solid rgba(255,255,255,.08)}

/* Form fields */
.form-group{margin-bottom:12px}
.form-group label{display:block;font-size:.78rem;color:var(--muted);margin-bottom:3px;font-weight:600}
.form-group input,.form-group select,.form-group textarea{width:100%;background:var(--card);color:var(--text);border:1px solid rgba(255,255,255,.12);border-radius:var(--radius);padding:8px 10px;font-size:.85rem;font-family:inherit;outline:none}
.form-group input:focus,.form-group select:focus,.form-group textarea:focus{border-color:var(--accent)}
.form-group textarea{resize:vertical;min-height:56px}

/* Avatar picker */
.avatar-picker{display:flex;gap:6px;flex-wrap:wrap}
.avatar-opt{font-size:1.6rem;cursor:pointer;padding:4px 6px;border-radius:var(--radius);border:2px solid transparent;transition:border-color .15s}
.avatar-opt:hover{border-color:var(--accent)}
.avatar-opt.selected{border-color:var(--cyan);background:rgba(34,211,238,.15)}

/* Toast */
#toast-container{position:fixed;top:0;left:50%;transform:translateX(-50%);z-index:2000;display:flex;flex-direction:column;gap:6px;padding-top:10px}
.toast{background:linear-gradient(135deg,rgba(255,215,0,.2),rgba(255,215,0,.08));border:1px solid rgba(255,215,0,.5);color:gold;padding:12px 24px;border-radius:var(--radius);font-weight:700;font-size:.9rem;text-align:center;animation:toastIn .35s ease-out,toastOut .35s 2.65s ease-in forwards;white-space:nowrap}
@keyframes toastIn{from{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}
@keyframes toastOut{from{opacity:1}to{opacity:0;transform:translateY(-20px)}}

/* Collapsible */
.collapse-toggle::after{content:' ▸';transition:transform .2s}
.collapse-toggle.open::after{content:' ▾'}

/* Scrollbar */
::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:var(--bg)}::-webkit-scrollbar-thumb{background:var(--accent);border-radius:3px}

/* Responsive */
@media(max-width:600px){
  #app{padding:8px 10px 32px}
  .pair-builder{grid-template-columns:1fr}
  .pair-builder .pair-x{display:none}
  .pig-pen{grid-template-columns:repeat(auto-fill,minmax(65px,1fr))}
  .ped-tree{gap:14px}
  .ped-node{min-width:90px;padding:7px 8px}
}
