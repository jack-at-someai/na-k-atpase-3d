<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fourier Transform Visualizer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Fourier Transform Visualizer</h1>
    </header>

    <nav class="tab-bar" id="tab-bar">
        <button class="tab active" data-tab="0">Epicycles</button>
        <button class="tab" data-tab="1">Square Wave</button>
        <button class="tab" data-tab="2">Sawtooth</button>
        <button class="tab" data-tab="3">Drawing</button>
        <button class="tab" data-tab="4">Shapes</button>
        <button class="tab" data-tab="5">DFT Explorer</button>
        <button class="tab" data-tab="6">Signal</button>
        <button class="tab" data-tab="7">Spirograph</button>
    </nav>

    <main id="demo-container">

        <!-- 0: Epicycles Intro -->
        <section class="demo-panel active" data-demo="0">
            <aside class="sidebar">
                <h2>Epicycles</h2>
                <p>Rotating circles (epicycles) combine to trace complex curves. Each circle spins at a different frequency. Add more circles to see how the approximation improves.</p>
                <div class="controls">
                    <label>
                        <span>Circles:</span>
                        <input type="range" id="epi-circles" min="1" max="20" step="1" value="5">
                        <span id="epi-circles-val">5</span>
                    </label>
                    <label>
                        <span>Speed:</span>
                        <input type="range" id="epi-speed" min="0.1" max="3" step="0.1" value="1">
                        <span id="epi-speed-val">1</span>
                    </label>
                    <label>
                        <span>Trail:</span>
                        <input type="range" id="epi-trail" min="100" max="2000" step="50" value="600">
                        <span id="epi-trail-val">600</span>
                    </label>
                    <label>
                        <span>Circle stroke:</span>
                        <input type="range" id="epi-opacity" min="0" max="1" step="0.05" value="0.7">
                        <span id="epi-opacity-val">0.7</span>
                    </label>
                    <label>
                        <input type="checkbox" id="epi-showwave" checked>
                        <span>Show wave</span>
                    </label>
                    <button class="btn" id="epi-reset">Reset</button>
                </div>
                <div class="info-box" id="info-epi">
                    <div>Circles: <span id="epi-count">&mdash;</span></div>
                    <div>Tip x: <span id="epi-tipx">&mdash;</span></div>
                    <div>Tip y: <span id="epi-tipy">&mdash;</span></div>
                </div>
            </aside>
            <div class="canvas-wrap">
                <canvas id="canvas-0"></canvas>
            </div>
        </section>

        <!-- 1: Square Wave -->
        <section class="demo-panel" data-demo="1">
            <aside class="sidebar">
                <h2>Square Wave</h2>
                <p>A square wave is built from only odd harmonics: sin(t) + sin(3t)/3 + sin(5t)/5 + &hellip; Watch how adding more harmonics sharpens the approximation.</p>
                <div class="controls">
                    <label>
                        <span>Harmonics:</span>
                        <input type="range" id="sq-harmonics" min="1" max="50" step="1" value="5">
                        <span id="sq-harmonics-val">5</span>
                    </label>
                    <label>
                        <span>Speed:</span>
                        <input type="range" id="sq-speed" min="0.1" max="3" step="0.1" value="1">
                        <span id="sq-speed-val">1</span>
                    </label>
                    <label>
                        <input type="checkbox" id="sq-target" checked>
                        <span>Show target</span>
                    </label>
                    <button class="btn" id="sq-reset">Reset</button>
                </div>
                <div class="info-box" id="info-sq">
                    <div>Harmonics: <span id="sq-count">&mdash;</span></div>
                    <div>Gibbs overshoot: <span id="sq-gibbs">&mdash;</span></div>
                </div>
            </aside>
            <div class="canvas-wrap">
                <canvas id="canvas-1"></canvas>
            </div>
        </section>

        <!-- 2: Sawtooth -->
        <section class="demo-panel" data-demo="2">
            <aside class="sidebar">
                <h2>Sawtooth &amp; Triangle</h2>
                <p>Sawtooth waves use all harmonics with alternating signs; triangle waves use only odd harmonics with 1/n&sup2; falloff. Toggle between them to compare.</p>
                <div class="controls">
                    <label>
                        <span>Wave:</span>
                        <select id="saw-type">
                            <option value="sawtooth">Sawtooth</option>
                            <option value="triangle">Triangle</option>
                        </select>
                    </label>
                    <label>
                        <span>Harmonics:</span>
                        <input type="range" id="saw-harmonics" min="1" max="50" step="1" value="5">
                        <span id="saw-harmonics-val">5</span>
                    </label>
                    <label>
                        <span>Speed:</span>
                        <input type="range" id="saw-speed" min="0.1" max="3" step="0.1" value="1">
                        <span id="saw-speed-val">1</span>
                    </label>
                    <label>
                        <input type="checkbox" id="saw-target" checked>
                        <span>Show target</span>
                    </label>
                    <button class="btn" id="saw-reset">Reset</button>
                </div>
                <div class="info-box" id="info-saw">
                    <div>Wave type: <span id="saw-wtype">&mdash;</span></div>
                    <div>Harmonics: <span id="saw-count">&mdash;</span></div>
                </div>
            </aside>
            <div class="canvas-wrap">
                <canvas id="canvas-2"></canvas>
            </div>
        </section>

        <!-- 3: Drawing -->
        <section class="demo-panel" data-demo="3">
            <aside class="sidebar">
                <h2>Drawing</h2>
                <p>Draw any shape with your mouse, then watch epicycles retrace it. The DFT decomposes your drawing into rotating circles of different sizes and speeds.</p>
                <div class="controls">
                    <label>
                        <span>Epicycles:</span>
                        <input type="range" id="draw-epicycles" min="10" max="300" step="5" value="80">
                        <span id="draw-epicycles-val">80</span>
                    </label>
                    <label>
                        <span>Speed:</span>
                        <input type="range" id="draw-speed" min="0.2" max="3" step="0.1" value="1">
                        <span id="draw-speed-val">1</span>
                    </label>
                    <label>
                        <span>Circle stroke:</span>
                        <input type="range" id="draw-opacity" min="0" max="1" step="0.05" value="0.7">
                        <span id="draw-opacity-val">0.7</span>
                    </label>
                    <button class="btn btn-toggle" id="draw-toggle">Draw</button>
                    <button class="btn" id="draw-clear">Clear</button>
                </div>
                <div class="info-box" id="info-draw">
                    <div>Mode: <span id="draw-mode">Drawing</span></div>
                    <div>Points: <span id="draw-pts">&mdash;</span></div>
                    <div>Epicycles: <span id="draw-nepi">&mdash;</span></div>
                </div>
            </aside>
            <div class="canvas-wrap">
                <canvas id="canvas-3"></canvas>
            </div>
        </section>

        <!-- 4: Shapes -->
        <section class="demo-panel" data-demo="4">
            <aside class="sidebar">
                <h2>Preset Shapes</h2>
                <p>Watch epicycles trace familiar shapes. The DFT finds the exact set of rotating circles needed to reproduce each outline.</p>
                <div class="controls">
                    <label>
                        <span>Shape:</span>
                        <select id="shape-preset">
                            <option value="star">Star</option>
                            <option value="heart">Heart</option>
                            <option value="treble">Treble Clef</option>
                            <option value="pi">Pi (&pi;)</option>
                            <option value="infinity">Infinity (&infin;)</option>
                            <option value="butterfly">Butterfly</option>
                            <option value="arrow">Arrow</option>
                            <option value="sigma">Sigma (&Sigma;)</option>
                        </select>
                    </label>
                    <label>
                        <span>Epicycles:</span>
                        <input type="range" id="shape-epicycles" min="10" max="300" step="5" value="100">
                        <span id="shape-epicycles-val">100</span>
                    </label>
                    <label>
                        <span>Speed:</span>
                        <input type="range" id="shape-speed" min="0.2" max="3" step="0.1" value="1">
                        <span id="shape-speed-val">1</span>
                    </label>
                    <label>
                        <span>Circle stroke:</span>
                        <input type="range" id="shape-opacity" min="0" max="1" step="0.05" value="0.7">
                        <span id="shape-opacity-val">0.7</span>
                    </label>
                    <button class="btn" id="shape-reset">Reset</button>
                </div>
                <div class="info-box" id="info-shape">
                    <div>Shape: <span id="shape-name">&mdash;</span></div>
                    <div>Points: <span id="shape-pts">&mdash;</span></div>
                    <div>Epicycles: <span id="shape-nepi">&mdash;</span></div>
                </div>
            </aside>
            <div class="canvas-wrap">
                <canvas id="canvas-4"></canvas>
            </div>
        </section>

        <!-- 5: DFT Explorer -->
        <section class="demo-panel" data-demo="5">
            <aside class="sidebar">
                <h2>DFT Explorer</h2>
                <p>Build a signal by adjusting individual frequency amplitudes. The bar chart shows the spectrum; the canvas shows the corresponding epicycles and waveform.</p>
                <div class="controls">
                    <label>
                        <span>Freq 1:</span>
                        <input type="range" id="dft-f1" min="0" max="100" step="1" value="80">
                        <span id="dft-f1-val">80</span>
                    </label>
                    <label>
                        <span>Freq 2:</span>
                        <input type="range" id="dft-f2" min="0" max="100" step="1" value="40">
                        <span id="dft-f2-val">40</span>
                    </label>
                    <label>
                        <span>Freq 3:</span>
                        <input type="range" id="dft-f3" min="0" max="100" step="1" value="20">
                        <span id="dft-f3-val">20</span>
                    </label>
                    <label>
                        <span>Freq 4:</span>
                        <input type="range" id="dft-f4" min="0" max="100" step="1" value="0">
                        <span id="dft-f4-val">0</span>
                    </label>
                    <label>
                        <span>Freq 5:</span>
                        <input type="range" id="dft-f5" min="0" max="100" step="1" value="0">
                        <span id="dft-f5-val">0</span>
                    </label>
                    <label>
                        <span>Freq 6:</span>
                        <input type="range" id="dft-f6" min="0" max="100" step="1" value="0">
                        <span id="dft-f6-val">0</span>
                    </label>
                    <label>
                        <span>Freq 7:</span>
                        <input type="range" id="dft-f7" min="0" max="100" step="1" value="0">
                        <span id="dft-f7-val">0</span>
                    </label>
                    <label>
                        <span>Freq 8:</span>
                        <input type="range" id="dft-f8" min="0" max="100" step="1" value="0">
                        <span id="dft-f8-val">0</span>
                    </label>
                    <label>
                        <span>Speed:</span>
                        <input type="range" id="dft-speed" min="0.1" max="3" step="0.1" value="1">
                        <span id="dft-speed-val">1</span>
                    </label>
                    <button class="btn" id="dft-reset">Reset</button>
                </div>
                <div class="info-box" id="info-dft">
                    <div>Active freqs: <span id="dft-active">&mdash;</span></div>
                    <div>Total amp: <span id="dft-totalamp">&mdash;</span></div>
                </div>
            </aside>
            <div class="canvas-wrap">
                <canvas id="canvas-5"></canvas>
            </div>
        </section>

        <!-- 6: Signal -->
        <section class="demo-panel" data-demo="6">
            <aside class="sidebar">
                <h2>Signal Builder</h2>
                <p>Mix up to 4 sine-wave components with independent frequency, amplitude and phase. See how they combine into a complex waveform.</p>
                <div class="controls">
                    <label>
                        <span>F1 freq:</span>
                        <input type="range" id="sig-f1" min="1" max="10" step="1" value="1">
                        <span id="sig-f1-val">1</span>
                    </label>
                    <label>
                        <span>F1 amp:</span>
                        <input type="range" id="sig-a1" min="0" max="100" step="1" value="80">
                        <span id="sig-a1-val">80</span>
                    </label>
                    <label>
                        <span>F1 phase:</span>
                        <input type="range" id="sig-p1" min="0" max="360" step="5" value="0">
                        <span id="sig-p1-val">0&deg;</span>
                    </label>
                    <label>
                        <span>F2 freq:</span>
                        <input type="range" id="sig-f2" min="1" max="10" step="1" value="3">
                        <span id="sig-f2-val">3</span>
                    </label>
                    <label>
                        <span>F2 amp:</span>
                        <input type="range" id="sig-a2" min="0" max="100" step="1" value="40">
                        <span id="sig-a2-val">40</span>
                    </label>
                    <label>
                        <span>F2 phase:</span>
                        <input type="range" id="sig-p2" min="0" max="360" step="5" value="0">
                        <span id="sig-p2-val">0&deg;</span>
                    </label>
                    <label>
                        <span>F3 freq:</span>
                        <input type="range" id="sig-f3" min="1" max="10" step="1" value="5">
                        <span id="sig-f3-val">5</span>
                    </label>
                    <label>
                        <span>F3 amp:</span>
                        <input type="range" id="sig-a3" min="0" max="100" step="1" value="0">
                        <span id="sig-a3-val">0</span>
                    </label>
                    <label>
                        <span>F3 phase:</span>
                        <input type="range" id="sig-p3" min="0" max="360" step="5" value="0">
                        <span id="sig-p3-val">0&deg;</span>
                    </label>
                    <label>
                        <span>F4 freq:</span>
                        <input type="range" id="sig-f4" min="1" max="10" step="1" value="7">
                        <span id="sig-f4-val">7</span>
                    </label>
                    <label>
                        <span>F4 amp:</span>
                        <input type="range" id="sig-a4" min="0" max="100" step="1" value="0">
                        <span id="sig-a4-val">0</span>
                    </label>
                    <label>
                        <span>F4 phase:</span>
                        <input type="range" id="sig-p4" min="0" max="360" step="5" value="0">
                        <span id="sig-p4-val">0&deg;</span>
                    </label>
                    <label>
                        <span>Speed:</span>
                        <input type="range" id="sig-speed" min="0.1" max="3" step="0.1" value="1">
                        <span id="sig-speed-val">1</span>
                    </label>
                    <label>
                        <input type="checkbox" id="sig-components" checked>
                        <span>Show components</span>
                    </label>
                    <button class="btn" id="sig-reset">Reset</button>
                </div>
                <div class="info-box" id="info-sig">
                    <div>Active: <span id="sig-active">&mdash;</span></div>
                    <div>Peak: <span id="sig-peak">&mdash;</span></div>
                </div>
            </aside>
            <div class="canvas-wrap">
                <canvas id="canvas-6"></canvas>
            </div>
        </section>

        <!-- 7: Spirograph -->
        <section class="demo-panel" data-demo="7">
            <aside class="sidebar">
                <h2>Spirograph</h2>
                <p>Nested rotating circles create stunning parametric curves. Adjust the radii and pen offset to explore hypotrochoid and epitrochoid patterns.</p>
                <div class="controls">
                    <label>
                        <span>R1 (outer):</span>
                        <input type="range" id="spiro-r1" min="20" max="200" step="1" value="100">
                        <span id="spiro-r1-val">100</span>
                    </label>
                    <label>
                        <span>R2 (inner):</span>
                        <input type="range" id="spiro-r2" min="10" max="150" step="1" value="40">
                        <span id="spiro-r2-val">40</span>
                    </label>
                    <label>
                        <span>Pen offset:</span>
                        <input type="range" id="spiro-pen" min="5" max="150" step="1" value="30">
                        <span id="spiro-pen-val">30</span>
                    </label>
                    <label>
                        <span>Speed:</span>
                        <input type="range" id="spiro-speed" min="0.5" max="5" step="0.1" value="2">
                        <span id="spiro-speed-val">2</span>
                    </label>
                    <label>
                        <span>Preset:</span>
                        <select id="spiro-preset">
                            <option value="custom">Custom</option>
                            <option value="flower5">5-Petal Flower</option>
                            <option value="flower8">8-Petal Flower</option>
                            <option value="star3">3-Point Star</option>
                            <option value="star7">7-Point Star</option>
                            <option value="deltoid">Deltoid</option>
                            <option value="astroid">Astroid</option>
                            <option value="cardioid">Cardioid</option>
                        </select>
                    </label>
                    <label>
                        <input type="checkbox" id="spiro-circles" checked>
                        <span>Show circles</span>
                    </label>
                    <button class="btn" id="spiro-reset">Reset</button>
                </div>
                <div class="info-box" id="info-spiro">
                    <div>R1: <span id="spiro-r1disp">&mdash;</span></div>
                    <div>R2: <span id="spiro-r2disp">&mdash;</span></div>
                    <div>Ratio: <span id="spiro-ratio">&mdash;</span></div>
                    <div>Points: <span id="spiro-pts">&mdash;</span></div>
                </div>
            </aside>
            <div class="canvas-wrap">
                <canvas id="canvas-7"></canvas>
            </div>
        </section>

    </main>

    <script src="game.js"></script>
</body>
</html>
