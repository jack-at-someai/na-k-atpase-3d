<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Against the Storm â€” Companion</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Against the Storm</h1>
        <div class="global-controls">
            <span class="subtitle">Settlement Companion</span>
        </div>
    </header>

    <nav class="tab-bar" id="tab-bar">
        <button class="tab active" data-tab="0">Composition</button>
        <button class="tab" data-tab="1">Species</button>
        <button class="tab" data-tab="2">Recipes</button>
        <button class="tab" data-tab="3">Chains</button>
        <button class="tab" data-tab="4">Needs</button>
    </nav>

    <main id="demo-container">
        <!-- Tab 0: Composition -->
        <section class="demo-panel active" data-demo="0">
            <aside class="sidebar">
                <h2>Settlement Composition</h2>
                <p>Select your 3 species to see strengths, gaps, and synergies.</p>
                <div class="controls">
                    <label><input type="checkbox" id="sp-human" class="sp-check" data-sp="human"> Human</label>
                    <label><input type="checkbox" id="sp-beaver" class="sp-check" data-sp="beaver"> Beaver</label>
                    <label><input type="checkbox" id="sp-lizard" class="sp-check" data-sp="lizard"> Lizard</label>
                    <label><input type="checkbox" id="sp-harpy" class="sp-check" data-sp="harpy"> Harpy</label>
                    <label><input type="checkbox" id="sp-fox" class="sp-check" data-sp="fox"> Fox</label>
                </div>
                <div class="info-box" id="comp-info">Select up to 3 species</div>
            </aside>
            <div class="canvas-wrap"><canvas id="canvas-0"></canvas></div>
        </section>

        <!-- Tab 1: Species -->
        <section class="demo-panel" data-demo="1">
            <aside class="sidebar">
                <h2>Species Reference</h2>
                <p>Click a species hex to see stats, needs, and specializations.</p>
                <div class="info-box" id="species-info">Click a species to inspect</div>
            </aside>
            <div class="canvas-wrap"><canvas id="canvas-1"></canvas></div>
        </section>

        <!-- Tab 2: Recipes -->
        <section class="demo-panel" data-demo="2">
            <aside class="sidebar sidebar-wide">
                <h2>Recipe Reference</h2>
                <p>All production recipes. Filter by building, input, or output.</p>
                <div class="controls">
                    <input type="text" id="recipe-search" placeholder="Search recipes..." class="search-input">
                </div>
            </aside>
            <div class="scroll-area">
                <table class="data-table" id="recipe-table">
                    <thead>
                        <tr>
                            <th>Building</th>
                            <th>Input</th>
                            <th>Output</th>
                            <th>Stars</th>
                            <th>Species Bonus</th>
                        </tr>
                    </thead>
                    <tbody id="recipe-body"></tbody>
                </table>
            </div>
        </section>

        <!-- Tab 3: Chains -->
        <section class="demo-panel" data-demo="3">
            <aside class="sidebar">
                <h2>Production Chains</h2>
                <p>Visual graph of resource flows. Click a node to trace its chain.</p>
                <div class="controls">
                    <label>Focus:
                        <select id="chain-focus">
                            <option value="all">All Chains</option>
                            <option value="food">Food</option>
                            <option value="fuel">Fuel</option>
                            <option value="materials">Building Materials</option>
                            <option value="tools">Tools</option>
                            <option value="trade">Trade Goods</option>
                        </select>
                    </label>
                </div>
                <div class="info-box" id="chain-info">Showing all production chains</div>
            </aside>
            <div class="canvas-wrap"><canvas id="canvas-3"></canvas></div>
        </section>

        <!-- Tab 4: Needs -->
        <section class="demo-panel" data-demo="4">
            <aside class="sidebar sidebar-wide">
                <h2>Species Needs Matrix</h2>
                <p>What each species needs for resolve, and what satisfies it.</p>
            </aside>
            <div class="scroll-area">
                <div id="needs-grid" class="needs-grid"></div>
            </div>
        </section>
    </main>

    <script src="app.js"></script>
</body>
</html>
